

----STARTUP---- (2 December 2021 20:37:54) as /home/martin/Documentos/facultad/trabajos_practicos/algo3/repo/Resoluciones/Ejercicio8/Ejercicio8.image!


TestCase subclass: #PortfolioTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!

!classDefinition: #PortfolioTest category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/2/2021 20:38:12'!
TestCase subclass: #PortfolioTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 11:16:26'!
                  test01BalanceOfPortfolioWithoutAccountsIsZero

	self assert: 0 equals: Portfolio new balance! !
!PortfolioTest methodsFor: 'tests' stamp: 'LL 7/1/2021 03:27:00'!
                              test02BalanceOfPortfolioWithOneAccountIsAccountBalance

	| account portfolio |
	
	account := ReceptiveAccount new.
	Deposit register: 100 * peso on: account.
	portfolio := Portfolio with: account.
	
	self assert: account balance equals: portfolio balance! !
!PortfolioTest methodsFor: 'tests' stamp: 'LL 7/1/2021 03:27:06'!
                            test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios

	| simplePortfolioAccount simplePortfolio composedPortfolioAccount composedPortofolio |
	
	simplePortfolioAccount := ReceptiveAccount new.
	Deposit register: 100 * peso on: simplePortfolioAccount.
	simplePortfolio := Portfolio with: simplePortfolioAccount.
	
	composedPortfolioAccount := ReceptiveAccount new.
	Withdraw register: 50 * peso on: composedPortfolioAccount.
	composedPortofolio := Portfolio with: simplePortfolio with: composedPortfolioAccount.
	
	self assert: (composedPortfolioAccount balance + simplePortfolio balance) equals: composedPortofolio balance! !
!PortfolioTest methodsFor: 'tests' stamp: 'LL 7/1/2021 03:27:12'!
     test04PortfolioWithoutAccountsHasNoRegisteredTransaction

	self deny: (Portfolio new hasRegistered: (Deposit for: 100 * peso))! !
!PortfolioTest methodsFor: 'tests' stamp: 'LL 7/1/2021 03:27:18'!
                            test05PortfolioHasRegisteredItsAccountsTransactions

	| account portfolio deposit |
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 * peso on: account.
	portfolio := Portfolio with: account.
	
	self assert: (portfolio hasRegistered: deposit)! !
!PortfolioTest methodsFor: 'tests' stamp: 'LL 7/1/2021 03:27:26'!
                   test06PortfolioLooksForRegisteredTransactionsRecursively

	| simplePortfolioAccount simplePortfolio composedPortfolioAccount composedPortfolio composedPortfolioAccountWithdraw simplePortfolioAccountDeposit |
	
	simplePortfolioAccount := ReceptiveAccount new.
	simplePortfolioAccountDeposit := Deposit register: 100 * peso on: simplePortfolioAccount.
	simplePortfolio := Portfolio with: simplePortfolioAccount.
	
	composedPortfolioAccount := ReceptiveAccount new.
	composedPortfolioAccountWithdraw := Withdraw register: 50 * peso on: composedPortfolioAccount.
	composedPortfolio := Portfolio with: simplePortfolio with: composedPortfolioAccount.
	
	self assert: (composedPortfolio hasRegistered: simplePortfolioAccountDeposit).
	self assert: (composedPortfolio hasRegistered: composedPortfolioAccountWithdraw)! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 11:58:10'!
                test07PortfolioHasNoTransactionWhenHasNoAccounts

	self assert: Portfolio new transactions isEmpty! !
!PortfolioTest methodsFor: 'tests' stamp: 'LL 7/1/2021 03:28:08'!
                        test08PortfolioTransactionsIncludesAllItsAccountsTransactions

	| account portfolio accountDeposit portfolioTransactions anotherAccountWithdraw |
	
	account := ReceptiveAccount new.
	accountDeposit := Deposit register: 100 * peso on: account.
	anotherAccountWithdraw := Withdraw register: 100 * peso on: account.
	portfolio := Portfolio with: account.
	
	portfolioTransactions := portfolio transactions.
	
	self assert: 2 equals: portfolioTransactions size.
	self assert: (portfolioTransactions includes: accountDeposit).
	self assert: (portfolioTransactions includes: anotherAccountWithdraw)! !
!PortfolioTest methodsFor: 'tests' stamp: 'LL 7/1/2021 03:28:20'!
          test09PortfolioTransactionsAreCalculatedRecursively

	| simplePortfolioAccount simplePortfolio composedPortfolioAccount composedPortfolio composedPortfolioAccountWithdraw simplePortfolioAccountDeposit composedPortfolioTransactions |
	
	simplePortfolioAccount := ReceptiveAccount new.
	simplePortfolioAccountDeposit := Deposit register: 100 * peso on: simplePortfolioAccount.
	simplePortfolio := Portfolio with: simplePortfolioAccount.
	
	composedPortfolioAccount := ReceptiveAccount new.
	composedPortfolioAccountWithdraw := Withdraw register: 50 * peso on: composedPortfolioAccount.
	composedPortfolio := Portfolio with: simplePortfolio with: composedPortfolioAccount.
	
	composedPortfolioTransactions := composedPortfolio transactions.
	self assert: 2 equals: composedPortfolioTransactions size.
	self assert: (composedPortfolioTransactions includes: simplePortfolioAccountDeposit).
	self assert: (composedPortfolioTransactions includes: composedPortfolioAccountWithdraw)! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 11:58:24'!
           test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce

	| account portfolio |
	
	account := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	
	self 
		should: [ portfolio add: account ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: Portfolio canNotAddAccountErrorMessage equals: anError messageText.
			self assert: 1 equals: portfolio accountsSize.
			self assert: (portfolio accountsIncludes: account) ]! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 11:58:28'!
            test11PortfolioCanNotIncludeAccountOfItsPortfolios

	| account simplePortfolio composedPortfolio |
	
	account := ReceptiveAccount new.
	simplePortfolio := Portfolio with: account.
	composedPortfolio := Portfolio with: simplePortfolio.
	
	self 
		should: [ composedPortfolio add: account ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: Portfolio canNotAddAccountErrorMessage equals: anError messageText.
			self assert: 1 equals: composedPortfolio accountsSize.
			self assert: (composedPortfolio accountsIncludes: simplePortfolio) ]! !
!PortfolioTest methodsFor: 'tests' stamp: 'LL 11/29/2021 18:55:37'!
                           test12PortfolioCanNotIncludeItself

	| simplePortfolio |
	
	simplePortfolio := Portfolio new.
	
	self 
		should: [ simplePortfolio add: simplePortfolio ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: Portfolio canNotAddAccountErrorMessage equals: anError messageText.
			self assert: 0 equals: simplePortfolio accountsSize. ]! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 12:01:51'!
          test13ComposedPortfolioCanNotHaveParentPortfolioAccount

	| account simplePortfolio composedPortfolio |
	
	account := ReceptiveAccount new.
	simplePortfolio := Portfolio new.
	composedPortfolio := Portfolio with: simplePortfolio.
	composedPortfolio add: account.
	
	self 
		should: [ simplePortfolio add: account ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: Portfolio canNotAddAccountErrorMessage equals: anError messageText.
			self assert: simplePortfolio accountsIsEmpty ]! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 12:12:16'!
                 test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively

	| account leftParentPortfolio leftRootParentPortfolio portfolio rightParentPortfolio rightRootParentPortfolio |
	
	account := ReceptiveAccount new.
	portfolio := Portfolio new.
	leftParentPortfolio := Portfolio with: portfolio .
	leftRootParentPortfolio := Portfolio with: leftParentPortfolio.
	leftRootParentPortfolio add: account.
	
	rightParentPortfolio := Portfolio with: portfolio .
	rightRootParentPortfolio := Portfolio with: rightParentPortfolio.
	rightRootParentPortfolio add: account.

	self 
		should: [ portfolio add: account ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: Portfolio canNotAddAccountErrorMessage equals: anError messageText.
			self assert: portfolio accountsIsEmpty ]! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/29/2019 16:31:18'!
                 test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd

	| portfolioToAdd portfolioToModify rootPortfolio sharedAccount |
	
	sharedAccount := ReceptiveAccount new.
	portfolioToModify := Portfolio new.
	rootPortfolio := Portfolio with: sharedAccount with: portfolioToModify.
	portfolioToAdd := Portfolio with: sharedAccount.
	
	self 
		should: [ portfolioToModify add: portfolioToAdd ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Portfolio canNotAddAccountErrorMessage equals: anError messageText.
			self assert: portfolioToModify accountsIsEmpty ]! !

TestCase subclass: #ReceptiveAccountTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!

!classDefinition: #ReceptiveAccountTest category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/2/2021 20:38:12'!
TestCase subclass: #ReceptiveAccountTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'LL 7/1/2021 03:10:43'!
                 test01ReceptiveAccountHaveZeroAsBalanceWhenCreated 

	| account |
	
	account := ReceptiveAccount new.

	self assert: 0 equals: account balance
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'LL 7/1/2021 03:14:20'!
    test02DepositIncreasesBalanceOnTransactionValue 

	| account |
	
	account := ReceptiveAccount  new.
	Deposit register: 100 * peso on: account.
		
	self assert: 100 * peso equals: account balance
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'LL 7/1/2021 03:14:24'!
                test03WithdrawDecreasesBalanceOnTransactionValue 

	| account |
	
	account := ReceptiveAccount new.
	Deposit register: 100 * peso on: account.
	Withdraw register: 50 * peso on: account.
		
	self assert: 50 * peso equals: account balance
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'LL 7/1/2021 03:10:14'!
      test04WithdrawValueMustBePositive 

	| account withdrawValue |
	
	account := ReceptiveAccount new.
	withdrawValue := 50 * peso.
	
	self assert: withdrawValue equals: (Withdraw register: withdrawValue on: account) value
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'LL 7/1/2021 03:10:22'!
                        test05ReceptiveAccountKnowsRegisteredTransactions 

	| account deposit withdraw |
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 * peso on: account.
	withdraw := Withdraw register: 50 * peso on: account.
		
	self assert: (account hasRegistered: deposit).
	self assert: (account hasRegistered: withdraw).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'LL 7/1/2021 03:12:14'!
            test06ReceptiveAccountDoNotKnowNotRegisteredTransactions

	| account deposit withdraw |
	
	account := ReceptiveAccount new.
	deposit :=  Deposit for: 100 * peso.
	withdraw := Withdraw for: 50 * peso.
		
	self deny: (account hasRegistered: deposit).
	self deny: (account hasRegistered: withdraw).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'LL 7/1/2021 03:12:23'!
           test07AccountKnowsItsTransactions 

	| account deposit |
	
	account := ReceptiveAccount new.
	
	deposit := Deposit register: 50 * peso on: account.
		
	self assert: 1 equals: account transactions size.
	self assert: (account transactions includes: deposit).
! !

TestCase subclass: #TestXXX
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!

!classDefinition: #TestXXX category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/2/2021 20:38:12'!
TestCase subclass: #TestXXX
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'tg 12/1/2021 16:08:17'!
                 test01
	|anAccount |
	
	anAccount := ReceptiveAccount  new.
		
	self assert: anAccount summary equals: (anAccount summary).! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'tg 12/1/2021 16:09:14'!
                      test02
	|anAccount |
	
	anAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: anAccount.
		
	self assert: ((anAccount summary) at: 1) equals: 'Deposito por 100 pesos'.	
	self assert: ((anAccount summary) at: 2) equals: 'Balance = 100 pesos'.
! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'tg 12/1/2021 16:10:49'!
               test03
	|anAccount |
	
	anAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: anAccount.
		
	self assert: ((anAccount summary) at: 1) equals: 'Extraccion por 50 pesos'.	
	self assert: ((anAccount summary) at: 2) equals: 'Balance = -50 pesos'.

! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'tg 12/1/2021 16:11:19'!
             test04
	| destinationAccount originAccount |
	
	originAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	
	Transfer amount:  20 * peso from: originAccount to: destinationAccount.
	self assert: ((originAccount summary) at: 1) equals: 'Salida por transferencia de 20 pesos'.	
	self assert: ((originAccount summary) at: 2) equals: 'Balance = -20 pesos'.

! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'tg 12/1/2021 16:11:41'!
                     test05
	| destinationAccount originAccount |
	
	originAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	
	Transfer amount:  20 * peso from: originAccount to: destinationAccount.
	self assert: ((destinationAccount summary) at: 1) equals: 'Entrada por transferencia de 20 pesos'.	
	self assert: ((destinationAccount summary) at: 2) equals: 'Balance = 20 pesos'.

! !

TestCase subclass: #TransferTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!

!classDefinition: #TransferTest category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/2/2021 20:38:13'!
TestCase subclass: #TransferTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'LL 9/20/2020 21:07:03'!
                         test01ATransferDecreasesBalanceFromOriginAccountAndIncreasesItForDestinationAccount

	| destinationAccount originAccount |
	
	originAccount := ReceptiveAccount new.
	Deposit register: 10 * peso on: originAccount.
	
	destinationAccount := ReceptiveAccount new.
	Deposit register: 10 * peso on: destinationAccount.
	
	Transfer amount: 2 * peso from: originAccount to: destinationAccount.
	
	self assert: 8 * peso equals: originAccount balance.
	self assert: 12 * peso equals: destinationAccount balance.! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'LL 9/20/2020 21:12:28'!
                       test02ATransferKnowsItsValue

	| destinationAccount originAccount transfer |
	
	originAccount := ReceptiveAccount new.
	Deposit register: 10 * peso on: originAccount.
	
	destinationAccount := ReceptiveAccount new.
	Deposit register: 10 * peso on: destinationAccount.
	
	transfer := Transfer amount: 2 * peso from: originAccount to: destinationAccount.
	
	self assert: 2 * peso equals: transfer value.! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'LL 9/20/2020 23:01:44'!
                            test03DepositLegKnowsItsWithdrawCounterpart

	| destinationAccount originAccount transfer |
	
	originAccount := ReceptiveAccount new.
	Deposit register: 10 * peso on: originAccount.
	
	destinationAccount := ReceptiveAccount new.
	Deposit register: 10 * peso on: destinationAccount.
	
	transfer := Transfer amount: 2 * peso from: originAccount to: destinationAccount.
	
	self assert: transfer withdrawLeg equals: transfer depositLeg withdrawLeg! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'LL 9/20/2020 23:01:51'!
                 test04WithdrawLegKnowsItsDepositCounterpart

	| destinationAccount originAccount transfer |
	
	originAccount := ReceptiveAccount new.
	Deposit register: 10 * peso on: originAccount.
	
	destinationAccount := ReceptiveAccount new.
	Deposit register: 10 * peso on: destinationAccount.
	
	transfer := Transfer amount: 2 * peso from: originAccount to: destinationAccount.
	
	self assert: transfer depositLeg equals: transfer withdrawLeg depositLeg! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'LL 9/20/2020 23:02:36'!
                  test05OriginAndDestinationAccountsCannotBeTheSame

	| originAccount |
	
	originAccount := ReceptiveAccount new.
	Deposit register: 10 * peso on: originAccount.
	
	self should: [ Transfer amount: 2 * peso from: originAccount to: originAccount ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: Transfer cannotTransferToOriginErrorDescription equals: anError messageText.
			self assert: 10 * peso equals: originAccount balance.
		]
! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'LL 9/20/2020 23:02:44'!
                       test06CannotTransferAZeroAmount

	| originAccount destinationAccount |
	
	originAccount := ReceptiveAccount new.
	Deposit register: 10 * peso on: originAccount.
	
	destinationAccount := ReceptiveAccount new.
	Deposit register: 5 * peso on: destinationAccount.
	
	self should: [ Transfer amount: 0 from: originAccount to: destinationAccount ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: Transfer cannotTransferZeroErrorDescription equals: anError messageText.
			self assert: 10 * peso equals: originAccount balance.
		]
! !

Object subclass: #Account
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!

!classDefinition: #Account category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/2/2021 20:38:13'!
Object subclass: #Account
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!
!Account methodsFor: 'main protocol' stamp: 'HAW 5/25/2019 12:23:40'!
         balance

	self subclassResponsibility ! !
!Account methodsFor: 'main protocol' stamp: 'HAW 5/25/2019 12:23:47'!
                hasRegistered: aTransaction

	self subclassResponsibility ! !
!Account methodsFor: 'main protocol' stamp: 'HAW 5/25/2019 12:23:15'!
                            transactions

	self subclassResponsibility ! !
!Account methodsFor: 'composition' stamp: 'LL 7/8/2021 21:45:50'!
               addedTo: aPortfolio

	self subclassResponsibility! !
!Account methodsFor: 'composition' stamp: 'LL 7/8/2021 21:46:48'!
         isComposedBy: anAccount

	self subclassResponsibility! !
!Account methodsFor: 'private' stamp: 'HAW 5/25/2019 12:23:27'!
       addTransactionsTo: aCollectionOfTransactions

	self subclassResponsibility ! !

Account subclass: #Portfolio
	instanceVariableNames: 'accounts parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!

!classDefinition: #Portfolio category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/2/2021 20:38:13'!
Account subclass: #Portfolio
	instanceVariableNames: 'accounts parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!
!Portfolio methodsFor: 'initialization' stamp: 'HAW 5/25/2019 12:03:18' overrides: 16896425!
                  initialize

	accounts := OrderedCollection new.
	parents := OrderedCollection new.! !
!Portfolio methodsFor: 'main protocol' stamp: 'HAW 5/25/2019 11:19:36' overrides: 50332227!
              balance
	
	^accounts sum: [ :anAccount | anAccount balance ] ifEmpty: [ 0 ]! !
!Portfolio methodsFor: 'main protocol' stamp: 'HAW 5/25/2019 11:28:29' overrides: 50332231!
                     hasRegistered: aTransaction

	^accounts anySatisfy: [ :anAccount | anAccount hasRegistered: aTransaction ]! !
!Portfolio methodsFor: 'main protocol' stamp: 'HAW 5/25/2019 11:38:32' overrides: 50332236!
                      transactions
	
	| transactions |
	
	transactions := OrderedCollection new.
	accounts do: [ :anAccount | anAccount addTransactionsTo: transactions ].
	
	^transactions ! !
!Portfolio methodsFor: 'accounts management' stamp: 'HAW 5/25/2019 11:49:20'!
        accountsIncludes: anAccount

	^accounts includes: anAccount ! !
!Portfolio methodsFor: 'accounts management' stamp: 'HAW 5/25/2019 12:05:04'!
                  accountsIsEmpty
	
	^accounts isEmpty ! !
!Portfolio methodsFor: 'accounts management' stamp: 'HAW 5/25/2019 11:49:06'!
         accountsSize
	
	^accounts size! !
!Portfolio methodsFor: 'accounts management' stamp: 'HAW 5/25/2019 12:19:20'!
                add: accountToAdd

	self assertCanAdd: accountToAdd.
		
	accounts add: accountToAdd.
	accountToAdd addedTo: self 
	! !
!Portfolio methodsFor: 'private' stamp: 'HAW 5/25/2019 11:42:55' overrides: 50332248!
                   addTransactionsTo: aCollectionOfTransactions

	accounts do: [ :anAccount | anAccount addTransactionsTo: aCollectionOfTransactions ]! !
!Portfolio methodsFor: 'composition' stamp: 'HAW 5/25/2019 12:17:31'!
                   addRootParentsTo: rootParents

	parents 
		ifEmpty: [ rootParents add: self ] 
		ifNotEmpty: [ parents do: [ :aParent | aParent addRootParentsTo: rootParents ]]! !
!Portfolio methodsFor: 'composition' stamp: 'HAW 5/25/2019 12:02:59' overrides: 50332240!
  addedTo: aPortfolio 
	
	parents add: aPortfolio ! !
!Portfolio methodsFor: 'composition' stamp: 'HAW 5/25/2019 12:20:56'!
      anyRootParentIsComposedBy: accountToAdd

	^self rootParents anySatisfy: [ :aParent | aParent isComposedBy: accountToAdd]! !
!Portfolio methodsFor: 'composition' stamp: 'HAW 5/25/2019 12:20:36'!
                              assertCanAdd: accountToAdd

	(self anyRootParentIsComposedBy: accountToAdd) ifTrue: [ self signalCanNotAddAccount ].
! !
!Portfolio methodsFor: 'composition' stamp: 'HAW 5/29/2019 16:24:54' overrides: 50332244!
             isComposedBy: anAccount

	^ self = anAccount or: [ accounts anySatisfy: [ :composedAccount | (composedAccount isComposedBy: anAccount) or: [ anAccount isComposedBy: composedAccount ]]]! !
!Portfolio methodsFor: 'composition' stamp: 'HAW 5/25/2019 12:17:31'!
                              rootParents
	
	| rootParents |
	
	rootParents := Set new.
	self addRootParentsTo: rootParents.
	
	^ rootParents! !
!Portfolio methodsFor: 'composition' stamp: 'HAW 5/25/2019 11:48:34'!
       signalCanNotAddAccount
	
	self error: self class canNotAddAccountErrorMessage! !

"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!

Portfolio class
	instanceVariableNames: ''!

!classDefinition: 'Portfolio class' category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/2/2021 20:38:13'!
Portfolio class
	instanceVariableNames: ''!
!Portfolio class methodsFor: 'as yet unclassified' stamp: 'HAW 5/25/2019 11:48:55'!
                 canNotAddAccountErrorMessage
	
	^'Can not add repeated account to a portfolio'! !
!Portfolio class methodsFor: 'as yet unclassified' stamp: 'HAW 5/25/2019 11:18:21'!
                          with: anAccount

	^self new 
		add: anAccount;
		yourself! !
!Portfolio class methodsFor: 'as yet unclassified' stamp: 'HAW 5/25/2019 11:23:59'!
               with: anAccount with: anotherAccount

	^self new 
		add: anAccount;
		add: anotherAccount;
		yourself! !

Account subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!

!classDefinition: #ReceptiveAccount category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/2/2021 20:38:13'!
Account subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!
!ReceptiveAccount methodsFor: 'initialization' stamp: 'HernanWilkinson 7/13/2011 18:35' overrides: 16896425!
                           initialize

	super initialize.
	transactions := OrderedCollection new.! !
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'tg 12/1/2021 16:14:18' overrides: 50332227!
                    balance

	^transactions 
		inject: 0 * peso
		into: [ :currentBalance :transaction | transaction affectBalance: currentBalance ]! !
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'NR 10/21/2019 18:55:56' overrides: 50332231!
                         hasRegistered: aTransaction

	^ transactions includes: aTransaction 
! !
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'HernanWilkinson 7/13/2011 18:37'!
                               register: aTransaction

	transactions add: aTransaction 
! !
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'tg 12/1/2021 16:10:18'!
                     summary
	
	|summary|
	summary := OrderedCollection new.
	(transactions isEmpty) ifTrue: [summary add: 'Balance = 0 pesos'].
	self transactions do: [: aTransaction | 
		(aTransaction isKindOf: Deposit) ifTrue:[ summary add: 'Deposito por ', (aTransaction value) asString].
		(aTransaction isKindOf: Withdraw ) ifTrue:[ summary add: 	'Extraccion por ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferWithdrawLeg ) ifTrue:[ summary add:  'Salida por transferencia de ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferDepositLeg ) ifTrue:[ summary add:  'Entrada por transferencia de ', (aTransaction value) asString].

		].
	summary add: 'Balance = ', (self balance) asString.
	^summary 
! !
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'HernanWilkinson 7/13/2011 18:37' overrides: 50332236!
                             transactions 

	^ transactions copy! !
!ReceptiveAccount methodsFor: 'private' stamp: 'HAW 5/25/2019 11:38:52' overrides: 50332248!
                            addTransactionsTo: aCollectionOfTransactions

	aCollectionOfTransactions addAll: transactions ! !
!ReceptiveAccount methodsFor: 'composition' stamp: 'HAW 5/25/2019 12:03:32' overrides: 50332240!
                             addedTo: aPortfolio 
	
	! !
!ReceptiveAccount methodsFor: 'composition' stamp: 'HAW 5/25/2019 11:54:51' overrides: 50332244!
   isComposedBy: anAccount

	^self = anAccount ! !

Object subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!

!classDefinition: #AccountTransaction category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/2/2021 20:38:13'!
Object subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!
!AccountTransaction methodsFor: 'value' stamp: 'HernanWilkinson 9/12/2011 12:25' overrides: 16881508!
               value 

	self subclassResponsibility ! !
!AccountTransaction methodsFor: 'balance' stamp: 'HAW 5/25/2019 11:25:39'!
            affectBalance: aBalance

	self subclassResponsibility ! !

AccountTransaction subclass: #Deposit
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!

!classDefinition: #Deposit category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/2/2021 20:38:13'!
AccountTransaction subclass: #Deposit
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!
!Deposit methodsFor: 'initialization' stamp: 'HernanWilkinson 7/13/2011 18:45'!
                          initializeFor: aValue

	value := aValue ! !
!Deposit methodsFor: 'value' stamp: 'HernanWilkinson 7/13/2011 18:38' overrides: 50332497!
                         value

	^ value! !
!Deposit methodsFor: 'balance' stamp: 'HAW 5/25/2019 11:25:02' overrides: 50332501!
                         affectBalance: aBalance

	^aBalance + value ! !

"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!

Deposit class
	instanceVariableNames: ''!

!classDefinition: 'Deposit class' category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/2/2021 20:38:13'!
Deposit class
	instanceVariableNames: ''!
!Deposit class methodsFor: 'instance creation' stamp: 'HernanWilkinson 7/13/2011 18:38'!
                   for: aValue

	^ self new initializeFor: aValue ! !
!Deposit class methodsFor: 'as yet unclassified' stamp: 'LL 7/8/2021 21:45:00'!
                             register: aValue on: account

	| transaction |
	
	transaction := self for: aValue.
	account register: transaction.
		
	^ transaction! !

AccountTransaction subclass: #TransferLeg
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!

!classDefinition: #TransferLeg category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/2/2021 20:38:13'!
AccountTransaction subclass: #TransferLeg
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!
!TransferLeg methodsFor: 'value' stamp: 'LL 9/20/2020 22:27:32' overrides: 50332497!
                     value

	^transfer value! !
!TransferLeg methodsFor: 'initialization' stamp: 'LL 9/20/2020 22:28:14'!
                           initializeWith: aTransfer

	transfer := aTransfer! !

"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!

TransferLeg class
	instanceVariableNames: ''!

!classDefinition: 'TransferLeg class' category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/2/2021 20:38:13'!
TransferLeg class
	instanceVariableNames: ''!
!TransferLeg class methodsFor: 'as yet unclassified' stamp: 'LL 9/20/2020 22:45:01'!
      of: aTransfer on: anAccount

	| transaction |
	
	transaction := self new initializeWith: 	aTransfer.
	anAccount register: transaction.	
	
	^transaction! !

TransferLeg subclass: #TransferDepositLeg
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!

!classDefinition: #TransferDepositLeg category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/2/2021 20:38:13'!
TransferLeg subclass: #TransferDepositLeg
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!
!TransferDepositLeg methodsFor: 'accessing' stamp: 'LL 9/20/2020 22:26:10'!
                    withdrawLeg

	^transfer withdrawLeg! !
!TransferDepositLeg methodsFor: 'balance' stamp: 'LL 9/20/2020 22:27:49' overrides: 50332501!
                           affectBalance: aBalance

	^aBalance + self value! !

TransferLeg subclass: #TransferWithdrawLeg
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!

!classDefinition: #TransferWithdrawLeg category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/2/2021 20:38:13'!
TransferLeg subclass: #TransferWithdrawLeg
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!
!TransferWithdrawLeg methodsFor: 'accessing' stamp: 'LL 9/20/2020 22:25:47'!
                       depositLeg

	^transfer depositLeg! !
!TransferWithdrawLeg methodsFor: 'balance' stamp: 'LL 9/20/2020 22:27:55' overrides: 50332501!
                            affectBalance: aBalance

	^aBalance - self value! !

AccountTransaction subclass: #Withdraw
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!

!classDefinition: #Withdraw category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/2/2021 20:38:13'!
AccountTransaction subclass: #Withdraw
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!
!Withdraw methodsFor: 'initialization' stamp: 'HernanWilkinson 7/13/2011 18:46'!
                            initializeFor: aValue

	value := aValue ! !
!Withdraw methodsFor: 'value' stamp: 'HernanWilkinson 7/13/2011 18:33' overrides: 50332497!
                        value

	^ value! !
!Withdraw methodsFor: 'balance' stamp: 'HAW 5/25/2019 11:25:15' overrides: 50332501!
                        affectBalance: aBalance

	^aBalance - value! !

"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!

Withdraw class
	instanceVariableNames: ''!

!classDefinition: 'Withdraw class' category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/2/2021 20:38:13'!
Withdraw class
	instanceVariableNames: ''!
!Withdraw class methodsFor: 'instance creation' stamp: 'HernanWilkinson 7/13/2011 18:33'!
                for: aValue

	^ self new initializeFor: aValue ! !
!Withdraw class methodsFor: 'as yet unclassified' stamp: 'LL 7/8/2021 21:45:05'!
                            register: aValue on: account

	| transaction |
	
	transaction := self for: aValue.
	account register: transaction.
		
	^ transaction! !

Object subclass: #Transfer
	instanceVariableNames: 'value withdrawLeg depositLeg'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!

!classDefinition: #Transfer category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/2/2021 20:38:13'!
Object subclass: #Transfer
	instanceVariableNames: 'value withdrawLeg depositLeg'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!
!Transfer methodsFor: 'value' stamp: 'LL 9/20/2020 21:13:00' overrides: 16881508!
                 value

	^value! !
!Transfer methodsFor: 'accessing' stamp: 'LL 9/20/2020 22:39:46'!
            depositLeg

	^depositLeg! !
!Transfer methodsFor: 'accessing' stamp: 'LL 9/20/2020 21:25:56'!
  withdrawLeg
	
	^withdrawLeg! !
!Transfer methodsFor: 'initialization' stamp: 'LL 9/20/2020 21:25:21'!
                          initializeWith: aValue withdrawLeg: aWithdraw depositLeg: aDeposit

	value := aValue.
	withdrawLeg := aWithdraw.
	depositLeg := aDeposit! !

"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!

Transfer class
	instanceVariableNames: ''!

!classDefinition: 'Transfer class' category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/2/2021 20:38:13'!
Transfer class
	instanceVariableNames: ''!
!Transfer class methodsFor: 'errors' stamp: 'LL 9/20/2020 22:57:30'!
        cannotTransferToOriginErrorDescription
	
	^'Transfer destionation cannot be the origin account'! !
!Transfer class methodsFor: 'errors' stamp: 'LL 9/20/2020 23:00:53'!
                        cannotTransferZeroErrorDescription

	^'Transfer amount should be positive'! !
!Transfer class methodsFor: 'errors' stamp: 'LL 9/20/2020 22:56:35'!
             signalCannotTransferToOrigin
	
	self error: self cannotTransferToOriginErrorDescription! !
!Transfer class methodsFor: 'errors' stamp: 'LL 9/20/2020 23:06:17'!
signalCannotTransferZero

	self error: self cannotTransferZeroErrorDescription! !
!Transfer class methodsFor: 'assertions' stamp: 'LL 9/20/2020 23:05:22'!
     assert: anAmountOfMoney canBeTransferedTo: destinationAccount from: originAccount

	self assertCanTransferTo: destinationAccount from: originAccount.
	self assertCanTransfer: anAmountOfMoney! !
!Transfer class methodsFor: 'assertions' stamp: 'LL 9/20/2020 23:11:50'!
                     assertCanTransfer: anAmountOfMoney

	^ anAmountOfMoney isZero ifTrue: [ self signalCannotTransferZero ]! !
!Transfer class methodsFor: 'assertions' stamp: 'LL 9/20/2020 23:04:58'!
            assertCanTransferTo: destinationAccount from: originAccount

	^ originAccount = destinationAccount ifTrue: [ self signalCannotTransferToOrigin ]! !
!Transfer class methodsFor: 'instance creation' stamp: 'LL 9/20/2020 23:11:34'!
                            amount: anAmountOfMoney from: originAccount to: destinationAccount 
	
	| transfer depositLeg withdrawLeg |
	
	self assert: anAmountOfMoney canBeTransferedTo: destinationAccount from: originAccount.
	
	transfer := self new.
	
	withdrawLeg := TransferWithdrawLeg of: transfer on: originAccount.
	depositLeg := TransferDepositLeg of: transfer on: destinationAccount.
	
	^transfer initializeWith: anAmountOfMoney withdrawLeg: withdrawLeg depositLeg: depositLeg
	
	
	! !

----End fileIn of /home/martin/Documentos/facultad/trabajos_practicos/algo3/repo/Resoluciones/Ejercicio8/ServiciosFinancieros-SolucionCatedra.st----!

!testRun: #TestXXX #test01 stamp: 'MG 12/2/2021 20:38:19'!
PASSED!

!testRun: #TestXXX #test02 stamp: 'MG 12/2/2021 20:38:19'!
FAILURE!

!testRun: #TestXXX #test03 stamp: 'MG 12/2/2021 20:38:19'!
FAILURE!

!testRun: #TestXXX #test04 stamp: 'MG 12/2/2021 20:38:19'!
FAILURE!

!testRun: #TestXXX #test05 stamp: 'MG 12/2/2021 20:38:19'!
FAILURE!

!testRun: #TestXXX #test02 stamp: 'MG 12/2/2021 20:38:26'!
FAILURE!
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/2/2021 20:38:46' prior: 50332416 overrides: 50332227!
        balance

	^transactions 
		inject: 0
		into: [ :currentBalance :transaction | transaction affectBalance: currentBalance ]! !

!testRun: #TestXXX #test01 stamp: 'MG 12/2/2021 20:38:48'!
PASSED!

!testRun: #TestXXX #test02 stamp: 'MG 12/2/2021 20:38:48'!
FAILURE!

!testRun: #TestXXX #test03 stamp: 'MG 12/2/2021 20:38:48'!
FAILURE!

!testRun: #TestXXX #test04 stamp: 'MG 12/2/2021 20:38:48'!
FAILURE!

!testRun: #TestXXX #test05 stamp: 'MG 12/2/2021 20:38:48'!
FAILURE!
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/2/2021 20:39:02' prior: 50332810 overrides: 50332227!
                         balance

	^transactions 
		inject: 0 * peso
		into: [ :currentBalance :transaction | transaction affectBalance: currentBalance ]! !
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/2/2021 20:39:13' prior: 50332274 overrides: 50332227!
                 balance
	
	^accounts sum: [ :anAccount | anAccount balance ] ifEmpty: [ 0 * peso ]! !
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/2/2021 20:39:26' prior: 50332837 overrides: 50332227!
                               balance
	
	^accounts sum: [ :anAccount | anAccount balance ] ifEmpty: [ 0 ]! !

!testRun: #TestXXX #test01 stamp: 'MG 12/2/2021 20:39:35'!
PASSED!

!testRun: #TestXXX #test02 stamp: 'MG 12/2/2021 20:39:35'!
FAILURE!

!testRun: #TestXXX #test03 stamp: 'MG 12/2/2021 20:39:35'!
FAILURE!

!testRun: #TestXXX #test04 stamp: 'MG 12/2/2021 20:39:35'!
FAILURE!

!testRun: #TestXXX #test05 stamp: 'MG 12/2/2021 20:39:35'!
FAILURE!

!testRun: #TestXXX #test02 stamp: 'MG 12/2/2021 20:39:39'!
FAILURE!
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/2/2021 20:40:29' prior: 50332435!
                      summary
	
	|summary|
	summary := OrderedCollection new.
	(transactions isEmpty) ifTrue: [summary add: 'Balance = 0 pesos'].
	self transactions do: [: aTransaction | 
		(aTransaction isKindOf: Deposit) ifTrue:[ summary add: 'Deposito por ', (aTransaction value) asString].
		(aTransaction isKindOf: Withdraw ) ifTrue:[ summary add: 	'Extraccion por ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferWithdrawLeg ) ifTrue:[ summary add:  'Salida por transferencia de ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferDepositLeg ) ifTrue:[ summary add:  'Entrada por transferencia de ', (aTransaction value) asString].

		].
	summary add: 'Balance = ', (self balance) asString.
	^summary 
! !
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/2/2021 20:41:12' prior: 50332863!
           summary
	
	|summary|
	summary := OrderedCollection new.
	(transactions isEmpty) ifTrue: [summary add: 'Balance = 0 pesos'].
	self transactions do: [: aTransaction | 
		(aTransaction isKindOf: Deposit) ifTrue:[ summary add: 'Deposito por ', (aTransaction value) asString, 'pesos'].
		(aTransaction isKindOf: Withdraw ) ifTrue:[ summary add: 	'Extraccion por ', (aTransaction value) asString, 'pesos'].
		(aTransaction isKindOf: TransferWithdrawLeg ) ifTrue:[ summary add:  'Salida por transferencia de ', (aTransaction value) asString, 'pesos'].
		(aTransaction isKindOf: TransferDepositLeg ) ifTrue:[ summary add:  'Entrada por transferencia de ', (aTransaction value) asString, 'pesos'].

		].
	summary add: 'Balance = ', (self balance) asString.
	^summary 
! !
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/2/2021 20:41:22' prior: 50332829 overrides: 50332227!
                   balance

	^transactions 
		inject: 0 
		into: [ :currentBalance :transaction | transaction affectBalance: currentBalance ]! !

!testRun: #TestXXX #test01 stamp: 'MG 12/2/2021 20:41:27'!
PASSED!

!testRun: #TestXXX #test02 stamp: 'MG 12/2/2021 20:41:27'!
FAILURE!

!testRun: #TestXXX #test03 stamp: 'MG 12/2/2021 20:41:27'!
FAILURE!

!testRun: #TestXXX #test04 stamp: 'MG 12/2/2021 20:41:27'!
FAILURE!

!testRun: #TestXXX #test05 stamp: 'MG 12/2/2021 20:41:27'!
FAILURE!

!testRun: #TestXXX #test02 stamp: 'MG 12/2/2021 20:41:30'!
FAILURE!
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/2/2021 20:42:02' prior: 50332917 overrides: 50332227!
                   balance

	^transactions 
		inject: 0 * peso
		into: [ :currentBalance :transaction | transaction affectBalance: currentBalance ]! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/2/2021 20:42:16' prior: 50332041!
 test02
	|anAccount |
	
	anAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: anAccount.
		
	self assert: ((anAccount summary) at: 1) equals: 'Deposito por 100 * pesos'.	
	self assert: ((anAccount summary) at: 2) equals: 'Balance = 100 * pesos'.
! !

!testRun: #TestXXX #test01 stamp: 'MG 12/2/2021 20:42:19'!
PASSED!

!testRun: #TestXXX #test02 stamp: 'MG 12/2/2021 20:42:19'!
FAILURE!

!testRun: #TestXXX #test03 stamp: 'MG 12/2/2021 20:42:19'!
FAILURE!

!testRun: #TestXXX #test04 stamp: 'MG 12/2/2021 20:42:19'!
FAILURE!

!testRun: #TestXXX #test05 stamp: 'MG 12/2/2021 20:42:19'!
FAILURE!

!testRun: #TestXXX #test02 stamp: 'MG 12/2/2021 20:42:21'!
FAILURE!
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/2/2021 20:42:39' prior: 50332889!
                           summary
	
	|summary|
	summary := OrderedCollection new.
	(transactions isEmpty) ifTrue: [summary add: 'Balance = 0 pesos'].
	self transactions do: [: aTransaction | 
		(aTransaction isKindOf: Deposit) ifTrue:[ summary add: 'Deposito por ', (aTransaction value) asString].
		(aTransaction isKindOf: Withdraw ) ifTrue:[ summary add: 	'Extraccion por ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferWithdrawLeg ) ifTrue:[ summary add:  'Salida por transferencia de ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferDepositLeg ) ifTrue:[ summary add:  'Entrada por transferencia de ', (aTransaction value) asString].

		].
	summary add: 'Balance = ', (self balance) asString.
	^summary 
! !

!testRun: #TestXXX #test01 stamp: 'MG 12/2/2021 20:42:44'!
PASSED!

!testRun: #TestXXX #test02 stamp: 'MG 12/2/2021 20:42:44'!
PASSED!

!testRun: #TestXXX #test03 stamp: 'MG 12/2/2021 20:42:44'!
FAILURE!

!testRun: #TestXXX #test04 stamp: 'MG 12/2/2021 20:42:44'!
FAILURE!

!testRun: #TestXXX #test05 stamp: 'MG 12/2/2021 20:42:44'!
FAILURE!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/2/2021 20:42:54' prior: 50332052!
                       test03
	|anAccount |
	
	anAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: anAccount.
		
	self assert: ((anAccount summary) at: 1) equals: 'Extraccion por 50 * pesos'.	
	self assert: ((anAccount summary) at: 2) equals: 'Balance = -50 * pesos'.

! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/2/2021 20:43:01' prior: 50332063!
                         test04
	| destinationAccount originAccount |
	
	originAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	
	Transfer amount:  20 * peso from: originAccount to: destinationAccount.
	self assert: ((originAccount summary) at: 1) equals: 'Salida por transferencia de 20 * pesos'.	
	self assert: ((originAccount summary) at: 2) equals: 'Balance = -20 * pesos'.

! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/2/2021 20:43:08' prior: 50332078!
 test05
	| destinationAccount originAccount |
	
	originAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	
	Transfer amount:  20 * peso from: originAccount to: destinationAccount.
	self assert: ((destinationAccount summary) at: 1) equals: 'Entrada por transferencia de 20 * pesos'.	
	self assert: ((destinationAccount summary) at: 2) equals: 'Balance = 20 * pesos'.

! !

!testRun: #TestXXX #test01 stamp: 'MG 12/2/2021 20:43:10'!
PASSED!

!testRun: #TestXXX #test02 stamp: 'MG 12/2/2021 20:43:10'!
PASSED!

!testRun: #TestXXX #test03 stamp: 'MG 12/2/2021 20:43:10'!
PASSED!

!testRun: #TestXXX #test04 stamp: 'MG 12/2/2021 20:43:10'!
PASSED!

!testRun: #TestXXX #test05 stamp: 'MG 12/2/2021 20:43:10'!
PASSED!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/2/2021 21:00:29'!
                   test06

	|aPortfolioAccount |
	
	aPortfolioAccount := Portfolio new.
		
	self assert: aPortfolioAccount summary equals: (aPortfolioAccount summary).! !

!testRun: #TestXXX #test06 stamp: 'MG 12/2/2021 21:00:33'!
ERROR!

!testRun: #TestXXX #test06 stamp: 'MG 12/2/2021 21:00:33'!
ERROR!
!Account methodsFor: 'main protocol' stamp: 'MG 12/2/2021 21:00:53'!
                             summary
	self subclassResponsibility.! !

!testRun: #TestXXX #test01 stamp: 'MG 12/2/2021 21:00:56'!
PASSED!

!testRun: #TestXXX #test02 stamp: 'MG 12/2/2021 21:00:56'!
PASSED!

!testRun: #TestXXX #test03 stamp: 'MG 12/2/2021 21:00:56'!
PASSED!

!testRun: #TestXXX #test04 stamp: 'MG 12/2/2021 21:00:56'!
PASSED!

!testRun: #TestXXX #test05 stamp: 'MG 12/2/2021 21:00:56'!
PASSED!

!testRun: #TestXXX #test06 stamp: 'MG 12/2/2021 21:00:56'!
ERROR!

!testRun: #TestXXX #test06 stamp: 'MG 12/2/2021 21:00:56'!
ERROR!
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/2/2021 21:01:34' overrides: 50333072!
  summary! !
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/2/2021 21:06:40' prior: 50332970 overrides: 50333072!
   summary
	
	|summary|
	summary := OrderedCollection new.
	(transactions isEmpty) ifTrue: [
		summary add: 'Balance = 0 pesos'.
		^summary.
	].
	self transactions do: [: aTransaction | 
		(aTransaction isKindOf: Deposit) ifTrue:[ summary add: 'Deposito por ', (aTransaction value) asString].
		(aTransaction isKindOf: Withdraw ) ifTrue:[ summary add: 	'Extraccion por ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferWithdrawLeg ) ifTrue:[ summary add:  'Salida por transferencia de ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferDepositLeg ) ifTrue:[ summary add:  'Entrada por transferencia de ', (aTransaction value) asString].

		].
	summary add: 'Balance = ', (self balance) asString.
	^summary 
! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/2/2021 21:07:10' prior: 50332034!
                            test01
	|anAccount |
	
	anAccount := ReceptiveAccount  new.
		
	self assert: ((anAccount summary)at: 1) equals: 'Balance = 0 pesos'.! !

!testRun: #TestXXX #test01 stamp: 'MG 12/2/2021 21:07:14'!
PASSED!

!testRun: #TestXXX #test01 stamp: 'MG 12/2/2021 21:07:16'!
PASSED!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/2/2021 21:08:14' prior: 50333060!
                     test06

	|aPortfolioAccount |
	
	aPortfolioAccount := Portfolio new.
		
	self assert: ((aPortfolioAccount summary)at: 1) equals: 'Balance = 0 pesos'.! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/2/2021 21:14:24' prior: 50332945!
            test02
	|anReceptiveAccount |
	
	anReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: anReceptiveAccount.
		
	self assert: ((anReceptiveAccount summary) at: 1) equals: 'Deposito por 100 * pesos'.	
	self assert: ((anReceptiveAccount summary) at: 2) equals: 'Balance = 100 * pesos'.
! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/2/2021 21:14:35' prior: 50333142!
              test02
	|aReceptiveAccount |
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
		
	self assert: ((aReceptiveAccount summary) at: 1) equals: 'Deposito por 100 * pesos'.	
	self assert: ((aReceptiveAccount summary) at: 2) equals: 'Balance = 100 * pesos'.
! !

!testRun: #TestXXX #test06 stamp: 'MG 12/2/2021 21:15:21'!
ERROR!

!testRun: #TestXXX #test06 stamp: 'MG 12/2/2021 21:15:21'!
ERROR!
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/2/2021 21:15:36' prior: 50333091 overrides: 50333072!
                             summary
	^'Balance = 0 pesos'! !
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/2/2021 21:19:26' prior: 50333095 overrides: 50333072!
             summary
	
	|summary|
	summary := OrderedCollection new.
	(transactions isEmpty) ifTrue: [
		" ^'Balance = 0 pesos' "
		summary add: 'Balance = 0 pesos'.
		^summary.
	].
	self transactions do: [: aTransaction | 
		(aTransaction isKindOf: Deposit) ifTrue:[ summary add: 'Deposito por ', (aTransaction value) asString].
		(aTransaction isKindOf: Withdraw ) ifTrue:[ summary add: 	'Extraccion por ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferWithdrawLeg ) ifTrue:[ summary add:  'Salida por transferencia de ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferDepositLeg ) ifTrue:[ summary add:  'Entrada por transferencia de ', (aTransaction value) asString].

		].
	summary add: 'Balance = ', (self balance) asString.
	^summary 
! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/2/2021 21:21:14' prior: 50333134!
 test06

	|aPortfolioAccount |
	
	aPortfolioAccount := Portfolio new.
		
	self assert: aPortfolioAccount summary equals: 'Balance = 0 pesos'.! !

!testRun: #TestXXX #test06 stamp: 'MG 12/2/2021 21:21:24'!
PASSED!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/2/2021 21:24:03' prior: 50333205!
                 test06

	|aPortfolioAccount aReceptiveAccount |
	
	aPortfolioAccount := Portfolio new.
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
	
	aPortfolioAccount add: aReceptiveAccount.
	
	self assert: ((aPortfolioAccount summary) at: 1) equals: 'Deposito por 100 * pesos'.	
	self assert: ((aPortfolioAccount summary) at: 2) equals: 'Balance = 100 * pesos'.! !

!testRun: #TestXXX #test06 stamp: 'MG 12/2/2021 21:24:06'!
FAILURE!

!testRun: #TestXXX #test06 stamp: 'MG 12/2/2021 21:24:06'!
FAILURE!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/2/2021 21:26:32'!
                    test07

	|aPortfolioAccount aReceptiveAccount |
	
	aPortfolioAccount := Portfolio new.
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
	
	aPortfolioAccount add: aReceptiveAccount.
	
	self assert: ((aPortfolioAccount summary) at: 1) equals: 'Deposito por 100 * pesos'.	
	self assert: ((aPortfolioAccount summary) at: 2) equals: 'Balance = 100 * pesos'.! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/2/2021 21:21:14' prior: 50333215!
              test06

	|aPortfolioAccount |
	
	aPortfolioAccount := Portfolio new.
		
	self assert: aPortfolioAccount summary equals: 'Balance = 0 pesos'.! !

!testRun: #TestXXX #test06 stamp: 'MG 12/2/2021 21:26:41'!
PASSED!
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/2/2021 21:30:59' prior: 50333173 overrides: 50333072!
 summary
	
	| summary |
	(accounts isEmpty) ifTrue:[
		^'Balance = 0 pesos'
	].

	summary := OrderedCollection new.
	
	summary = accounts do: [: anAccount | ^anAccount summary].
	
	^summary.	! !
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/2/2021 21:31:02' prior: 50333261 overrides: 50333072!
                   summary
	
	| summary |
	
	(accounts isEmpty) ifTrue:[
		^'Balance = 0 pesos'
	].

	summary := OrderedCollection new.
	
	summary = accounts do: [: anAccount | ^anAccount summary].
	
	^summary.	! !

!testRun: #TestXXX #test07 stamp: 'MG 12/2/2021 21:31:08'!
ERROR!

!testRun: #TestXXX #test07 stamp: 'MG 12/2/2021 21:31:08'!
ERROR!
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/2/2021 21:32:02' prior: 50333271 overrides: 50333072!
           summary
	
	| summary |
	
	(accounts isEmpty) ifTrue:[
		^'Balance = 0 pesos'
	].

	summary := OrderedCollection new.
	
	summary = (accounts at: 1 ) summary.
	
	^summary.	! !

!testRun: #TestXXX #test07 stamp: 'MG 12/2/2021 21:32:18'!
ERROR!

!testRun: #TestXXX #test07 stamp: 'MG 12/2/2021 21:32:18'!
ERROR!

!testRun: #TestXXX #test07 stamp: 'MG 12/2/2021 21:33:48'!
ERROR!

!testRun: #TestXXX #test07 stamp: 'MG 12/2/2021 21:33:48'!
ERROR!

aPortfolioAccount summary!

!testRun: #TestXXX #test07 stamp: 'MG 12/2/2021 23:42:52'!
ERROR!

!testRun: #TestXXX #test07 stamp: 'MG 12/2/2021 23:43:01'!
ERROR!

!testRun: #TestXXX #test07 stamp: 'MG 12/2/2021 23:43:01'!
ERROR!

!testRun: #TestXXX #test07 stamp: 'MG 12/2/2021 23:43:31'!
FAILURE!

accounts at: 1!

accounts!

(accounts at: 1 )!

(accounts at: 1 ) summary.!
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/2/2021 23:45:34' prior: 50333285 overrides: 50333072!
    summary
	
	| summary |
	
	(accounts isEmpty) ifTrue:[
		^'Balance = 0 pesos'
	].

	summary := OrderedCollection new.
	
	summary add: ((accounts at: 1 ) summary).
	
	^summary.	! !
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/2/2021 23:45:44' prior: 50333314 overrides: 50333072!
  summary
	
	| summary |
	
	(accounts isEmpty) ifTrue:[
		^'Balance = 0 pesos'
	].

	summary := OrderedCollection new.
	
	summary := ((accounts at: 1 ) summary).
	
	^summary.	! !

!testRun: #TestXXX #test01 stamp: 'MG 12/2/2021 23:45:55'!
PASSED!

!testRun: #TestXXX #test02 stamp: 'MG 12/2/2021 23:45:55'!
PASSED!

!testRun: #TestXXX #test03 stamp: 'MG 12/2/2021 23:45:55'!
PASSED!

!testRun: #TestXXX #test04 stamp: 'MG 12/2/2021 23:45:55'!
PASSED!

!testRun: #TestXXX #test05 stamp: 'MG 12/2/2021 23:45:55'!
PASSED!

!testRun: #TestXXX #test06 stamp: 'MG 12/2/2021 23:45:55'!
PASSED!

!testRun: #TestXXX #test07 stamp: 'MG 12/2/2021 23:45:55'!
PASSED!

!testRun: #TestXXX #test07 stamp: 'MG 12/2/2021 23:45:57'!
PASSED!

----STARTUP---- (5 December 2021 14:18:50) as /home/martin/Documentos/facultad/trabajos_practicos/algo3/repo/Resoluciones/Ejercicio8/Ejercicio8.image!


!classDefinition: #PortfolioTest category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:57'!
TestCase subclass: #PortfolioTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!

!classDefinition: #PortfolioTest category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:57'!
TestCase subclass: #PortfolioTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 11:16:26'!
                test01BalanceOfPortfolioWithoutAccountsIsZero

	self assert: 0 equals: Portfolio new balance! !
!PortfolioTest methodsFor: 'tests' stamp: 'LL 7/1/2021 03:27:00'!
                              test02BalanceOfPortfolioWithOneAccountIsAccountBalance

	| account portfolio |
	
	account := ReceptiveAccount new.
	Deposit register: 100 * peso on: account.
	portfolio := Portfolio with: account.
	
	self assert: account balance equals: portfolio balance! !
!PortfolioTest methodsFor: 'tests' stamp: 'LL 7/1/2021 03:27:06'!
                            test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios

	| simplePortfolioAccount simplePortfolio composedPortfolioAccount composedPortofolio |
	
	simplePortfolioAccount := ReceptiveAccount new.
	Deposit register: 100 * peso on: simplePortfolioAccount.
	simplePortfolio := Portfolio with: simplePortfolioAccount.
	
	composedPortfolioAccount := ReceptiveAccount new.
	Withdraw register: 50 * peso on: composedPortfolioAccount.
	composedPortofolio := Portfolio with: simplePortfolio with: composedPortfolioAccount.
	
	self assert: (composedPortfolioAccount balance + simplePortfolio balance) equals: composedPortofolio balance! !
!PortfolioTest methodsFor: 'tests' stamp: 'LL 7/1/2021 03:27:12'!
     test04PortfolioWithoutAccountsHasNoRegisteredTransaction

	self deny: (Portfolio new hasRegistered: (Deposit for: 100 * peso))! !
!PortfolioTest methodsFor: 'tests' stamp: 'LL 7/1/2021 03:27:18'!
                            test05PortfolioHasRegisteredItsAccountsTransactions

	| account portfolio deposit |
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 * peso on: account.
	portfolio := Portfolio with: account.
	
	self assert: (portfolio hasRegistered: deposit)! !
!PortfolioTest methodsFor: 'tests' stamp: 'LL 7/1/2021 03:27:26'!
                   test06PortfolioLooksForRegisteredTransactionsRecursively

	| simplePortfolioAccount simplePortfolio composedPortfolioAccount composedPortfolio composedPortfolioAccountWithdraw simplePortfolioAccountDeposit |
	
	simplePortfolioAccount := ReceptiveAccount new.
	simplePortfolioAccountDeposit := Deposit register: 100 * peso on: simplePortfolioAccount.
	simplePortfolio := Portfolio with: simplePortfolioAccount.
	
	composedPortfolioAccount := ReceptiveAccount new.
	composedPortfolioAccountWithdraw := Withdraw register: 50 * peso on: composedPortfolioAccount.
	composedPortfolio := Portfolio with: simplePortfolio with: composedPortfolioAccount.
	
	self assert: (composedPortfolio hasRegistered: simplePortfolioAccountDeposit).
	self assert: (composedPortfolio hasRegistered: composedPortfolioAccountWithdraw)! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 11:58:10'!
                test07PortfolioHasNoTransactionWhenHasNoAccounts

	self assert: Portfolio new transactions isEmpty! !
!PortfolioTest methodsFor: 'tests' stamp: 'LL 7/1/2021 03:28:08'!
                        test08PortfolioTransactionsIncludesAllItsAccountsTransactions

	| account portfolio accountDeposit portfolioTransactions anotherAccountWithdraw |
	
	account := ReceptiveAccount new.
	accountDeposit := Deposit register: 100 * peso on: account.
	anotherAccountWithdraw := Withdraw register: 100 * peso on: account.
	portfolio := Portfolio with: account.
	
	portfolioTransactions := portfolio transactions.
	
	self assert: 2 equals: portfolioTransactions size.
	self assert: (portfolioTransactions includes: accountDeposit).
	self assert: (portfolioTransactions includes: anotherAccountWithdraw)! !
!PortfolioTest methodsFor: 'tests' stamp: 'LL 7/1/2021 03:28:20'!
          test09PortfolioTransactionsAreCalculatedRecursively

	| simplePortfolioAccount simplePortfolio composedPortfolioAccount composedPortfolio composedPortfolioAccountWithdraw simplePortfolioAccountDeposit composedPortfolioTransactions |
	
	simplePortfolioAccount := ReceptiveAccount new.
	simplePortfolioAccountDeposit := Deposit register: 100 * peso on: simplePortfolioAccount.
	simplePortfolio := Portfolio with: simplePortfolioAccount.
	
	composedPortfolioAccount := ReceptiveAccount new.
	composedPortfolioAccountWithdraw := Withdraw register: 50 * peso on: composedPortfolioAccount.
	composedPortfolio := Portfolio with: simplePortfolio with: composedPortfolioAccount.
	
	composedPortfolioTransactions := composedPortfolio transactions.
	self assert: 2 equals: composedPortfolioTransactions size.
	self assert: (composedPortfolioTransactions includes: simplePortfolioAccountDeposit).
	self assert: (composedPortfolioTransactions includes: composedPortfolioAccountWithdraw)! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 11:58:24'!
           test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce

	| account portfolio |
	
	account := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	
	self 
		should: [ portfolio add: account ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: Portfolio canNotAddAccountErrorMessage equals: anError messageText.
			self assert: 1 equals: portfolio accountsSize.
			self assert: (portfolio accountsIncludes: account) ]! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 11:58:28'!
            test11PortfolioCanNotIncludeAccountOfItsPortfolios

	| account simplePortfolio composedPortfolio |
	
	account := ReceptiveAccount new.
	simplePortfolio := Portfolio with: account.
	composedPortfolio := Portfolio with: simplePortfolio.
	
	self 
		should: [ composedPortfolio add: account ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: Portfolio canNotAddAccountErrorMessage equals: anError messageText.
			self assert: 1 equals: composedPortfolio accountsSize.
			self assert: (composedPortfolio accountsIncludes: simplePortfolio) ]! !
!PortfolioTest methodsFor: 'tests' stamp: 'LL 11/29/2021 18:55:37'!
                           test12PortfolioCanNotIncludeItself

	| simplePortfolio |
	
	simplePortfolio := Portfolio new.
	
	self 
		should: [ simplePortfolio add: simplePortfolio ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: Portfolio canNotAddAccountErrorMessage equals: anError messageText.
			self assert: 0 equals: simplePortfolio accountsSize. ]! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 12:01:51'!
          test13ComposedPortfolioCanNotHaveParentPortfolioAccount

	| account simplePortfolio composedPortfolio |
	
	account := ReceptiveAccount new.
	simplePortfolio := Portfolio new.
	composedPortfolio := Portfolio with: simplePortfolio.
	composedPortfolio add: account.
	
	self 
		should: [ simplePortfolio add: account ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: Portfolio canNotAddAccountErrorMessage equals: anError messageText.
			self assert: simplePortfolio accountsIsEmpty ]! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 12:12:16'!
                 test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively

	| account leftParentPortfolio leftRootParentPortfolio portfolio rightParentPortfolio rightRootParentPortfolio |
	
	account := ReceptiveAccount new.
	portfolio := Portfolio new.
	leftParentPortfolio := Portfolio with: portfolio .
	leftRootParentPortfolio := Portfolio with: leftParentPortfolio.
	leftRootParentPortfolio add: account.
	
	rightParentPortfolio := Portfolio with: portfolio .
	rightRootParentPortfolio := Portfolio with: rightParentPortfolio.
	rightRootParentPortfolio add: account.

	self 
		should: [ portfolio add: account ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: Portfolio canNotAddAccountErrorMessage equals: anError messageText.
			self assert: portfolio accountsIsEmpty ]! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/29/2019 16:31:18'!
                 test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd

	| portfolioToAdd portfolioToModify rootPortfolio sharedAccount |
	
	sharedAccount := ReceptiveAccount new.
	portfolioToModify := Portfolio new.
	rootPortfolio := Portfolio with: sharedAccount with: portfolioToModify.
	portfolioToAdd := Portfolio with: sharedAccount.
	
	self 
		should: [ portfolioToModify add: portfolioToAdd ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Portfolio canNotAddAccountErrorMessage equals: anError messageText.
			self assert: portfolioToModify accountsIsEmpty ]! !

!classDefinition: #ReceptiveAccountTest category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:57'!
TestCase subclass: #ReceptiveAccountTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!

!classDefinition: #ReceptiveAccountTest category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:57'!
TestCase subclass: #ReceptiveAccountTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'LL 7/1/2021 03:10:43'!
                        test01ReceptiveAccountHaveZeroAsBalanceWhenCreated 

	| account |
	
	account := ReceptiveAccount new.

	self assert: 0 equals: account balance
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'LL 7/1/2021 03:14:20'!
    test02DepositIncreasesBalanceOnTransactionValue 

	| account |
	
	account := ReceptiveAccount  new.
	Deposit register: 100 * peso on: account.
		
	self assert: 100 * peso equals: account balance
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'LL 7/1/2021 03:14:24'!
                test03WithdrawDecreasesBalanceOnTransactionValue 

	| account |
	
	account := ReceptiveAccount new.
	Deposit register: 100 * peso on: account.
	Withdraw register: 50 * peso on: account.
		
	self assert: 50 * peso equals: account balance
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'LL 7/1/2021 03:10:14'!
      test04WithdrawValueMustBePositive 

	| account withdrawValue |
	
	account := ReceptiveAccount new.
	withdrawValue := 50 * peso.
	
	self assert: withdrawValue equals: (Withdraw register: withdrawValue on: account) value
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'LL 7/1/2021 03:10:22'!
                        test05ReceptiveAccountKnowsRegisteredTransactions 

	| account deposit withdraw |
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 * peso on: account.
	withdraw := Withdraw register: 50 * peso on: account.
		
	self assert: (account hasRegistered: deposit).
	self assert: (account hasRegistered: withdraw).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'LL 7/1/2021 03:12:14'!
            test06ReceptiveAccountDoNotKnowNotRegisteredTransactions

	| account deposit withdraw |
	
	account := ReceptiveAccount new.
	deposit :=  Deposit for: 100 * peso.
	withdraw := Withdraw for: 50 * peso.
		
	self deny: (account hasRegistered: deposit).
	self deny: (account hasRegistered: withdraw).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'LL 7/1/2021 03:12:23'!
           test07AccountKnowsItsTransactions 

	| account deposit |
	
	account := ReceptiveAccount new.
	
	deposit := Deposit register: 50 * peso on: account.
		
	self assert: 1 equals: account transactions size.
	self assert: (account transactions includes: deposit).
! !

!classDefinition: #TestXXX category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:57'!
TestCase subclass: #TestXXX
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!

!classDefinition: #TestXXX category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:57'!
TestCase subclass: #TestXXX
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'tg 12/1/2021 16:08:17'!
     test01
	|anAccount |
	
	anAccount := ReceptiveAccount  new.
		
	self assert: anAccount summary equals: (anAccount summary).! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'tg 12/1/2021 16:09:14'!
                      test02
	|anAccount |
	
	anAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: anAccount.
		
	self assert: ((anAccount summary) at: 1) equals: 'Deposito por 100 pesos'.	
	self assert: ((anAccount summary) at: 2) equals: 'Balance = 100 pesos'.
! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'tg 12/1/2021 16:10:49'!
               test03
	|anAccount |
	
	anAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: anAccount.
		
	self assert: ((anAccount summary) at: 1) equals: 'Extraccion por 50 pesos'.	
	self assert: ((anAccount summary) at: 2) equals: 'Balance = -50 pesos'.

! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'tg 12/1/2021 16:11:19'!
             test04
	| destinationAccount originAccount |
	
	originAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	
	Transfer amount:  20 * peso from: originAccount to: destinationAccount.
	self assert: ((originAccount summary) at: 1) equals: 'Salida por transferencia de 20 pesos'.	
	self assert: ((originAccount summary) at: 2) equals: 'Balance = -20 pesos'.

! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'tg 12/1/2021 16:11:41'!
                     test05
	| destinationAccount originAccount |
	
	originAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	
	Transfer amount:  20 * peso from: originAccount to: destinationAccount.
	self assert: ((destinationAccount summary) at: 1) equals: 'Entrada por transferencia de 20 pesos'.	
	self assert: ((destinationAccount summary) at: 2) equals: 'Balance = 20 pesos'.

! !

!classDefinition: #TransferTest category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:58'!
TestCase subclass: #TransferTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!

!classDefinition: #TransferTest category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:58'!
TestCase subclass: #TransferTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'LL 9/20/2020 21:07:03'!
        test01ATransferDecreasesBalanceFromOriginAccountAndIncreasesItForDestinationAccount

	| destinationAccount originAccount |
	
	originAccount := ReceptiveAccount new.
	Deposit register: 10 * peso on: originAccount.
	
	destinationAccount := ReceptiveAccount new.
	Deposit register: 10 * peso on: destinationAccount.
	
	Transfer amount: 2 * peso from: originAccount to: destinationAccount.
	
	self assert: 8 * peso equals: originAccount balance.
	self assert: 12 * peso equals: destinationAccount balance.! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'LL 9/20/2020 21:12:28'!
                       test02ATransferKnowsItsValue

	| destinationAccount originAccount transfer |
	
	originAccount := ReceptiveAccount new.
	Deposit register: 10 * peso on: originAccount.
	
	destinationAccount := ReceptiveAccount new.
	Deposit register: 10 * peso on: destinationAccount.
	
	transfer := Transfer amount: 2 * peso from: originAccount to: destinationAccount.
	
	self assert: 2 * peso equals: transfer value.! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'LL 9/20/2020 23:01:44'!
                            test03DepositLegKnowsItsWithdrawCounterpart

	| destinationAccount originAccount transfer |
	
	originAccount := ReceptiveAccount new.
	Deposit register: 10 * peso on: originAccount.
	
	destinationAccount := ReceptiveAccount new.
	Deposit register: 10 * peso on: destinationAccount.
	
	transfer := Transfer amount: 2 * peso from: originAccount to: destinationAccount.
	
	self assert: transfer withdrawLeg equals: transfer depositLeg withdrawLeg! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'LL 9/20/2020 23:01:51'!
                 test04WithdrawLegKnowsItsDepositCounterpart

	| destinationAccount originAccount transfer |
	
	originAccount := ReceptiveAccount new.
	Deposit register: 10 * peso on: originAccount.
	
	destinationAccount := ReceptiveAccount new.
	Deposit register: 10 * peso on: destinationAccount.
	
	transfer := Transfer amount: 2 * peso from: originAccount to: destinationAccount.
	
	self assert: transfer depositLeg equals: transfer withdrawLeg depositLeg! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'LL 9/20/2020 23:02:36'!
                  test05OriginAndDestinationAccountsCannotBeTheSame

	| originAccount |
	
	originAccount := ReceptiveAccount new.
	Deposit register: 10 * peso on: originAccount.
	
	self should: [ Transfer amount: 2 * peso from: originAccount to: originAccount ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: Transfer cannotTransferToOriginErrorDescription equals: anError messageText.
			self assert: 10 * peso equals: originAccount balance.
		]
! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'LL 9/20/2020 23:02:44'!
                       test06CannotTransferAZeroAmount

	| originAccount destinationAccount |
	
	originAccount := ReceptiveAccount new.
	Deposit register: 10 * peso on: originAccount.
	
	destinationAccount := ReceptiveAccount new.
	Deposit register: 5 * peso on: destinationAccount.
	
	self should: [ Transfer amount: 0 from: originAccount to: destinationAccount ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: Transfer cannotTransferZeroErrorDescription equals: anError messageText.
			self assert: 10 * peso equals: originAccount balance.
		]
! !

!classDefinition: #Account category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:58'!
Object subclass: #Account
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!

!classDefinition: #Account category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:58'!
Object subclass: #Account
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!
!Account methodsFor: 'main protocol' stamp: 'HAW 5/25/2019 12:23:40'!
                             balance

	self subclassResponsibility ! !
!Account methodsFor: 'main protocol' stamp: 'HAW 5/25/2019 12:23:47'!
                hasRegistered: aTransaction

	self subclassResponsibility ! !
!Account methodsFor: 'main protocol' stamp: 'HAW 5/25/2019 12:23:15'!
                            transactions

	self subclassResponsibility ! !
!Account methodsFor: 'composition' stamp: 'LL 7/8/2021 21:45:50'!
               addedTo: aPortfolio

	self subclassResponsibility! !
!Account methodsFor: 'composition' stamp: 'LL 7/8/2021 21:46:48'!
         isComposedBy: anAccount

	self subclassResponsibility! !
!Account methodsFor: 'private' stamp: 'HAW 5/25/2019 12:23:27'!
       addTransactionsTo: aCollectionOfTransactions

	self subclassResponsibility ! !

!classDefinition: #Portfolio category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:58'!
Account subclass: #Portfolio
	instanceVariableNames: 'accounts parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!

!classDefinition: #Portfolio category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:58'!
Account subclass: #Portfolio
	instanceVariableNames: 'accounts parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!
!Portfolio methodsFor: 'initialization' stamp: 'HAW 5/25/2019 12:03:18' overrides: 16896425!
    initialize

	accounts := OrderedCollection new.
	parents := OrderedCollection new.! !
!Portfolio methodsFor: 'main protocol' stamp: 'HAW 5/25/2019 11:19:36' overrides: 50333942!
              balance
	
	^accounts sum: [ :anAccount | anAccount balance ] ifEmpty: [ 0 ]! !
!Portfolio methodsFor: 'main protocol' stamp: 'HAW 5/25/2019 11:28:29' overrides: 50333946!
                     hasRegistered: aTransaction

	^accounts anySatisfy: [ :anAccount | anAccount hasRegistered: aTransaction ]! !
!Portfolio methodsFor: 'main protocol' stamp: 'HAW 5/25/2019 11:38:32' overrides: 50333951!
                      transactions
	
	| transactions |
	
	transactions := OrderedCollection new.
	accounts do: [ :anAccount | anAccount addTransactionsTo: transactions ].
	
	^transactions ! !
!Portfolio methodsFor: 'accounts management' stamp: 'HAW 5/25/2019 11:49:20'!
        accountsIncludes: anAccount

	^accounts includes: anAccount ! !
!Portfolio methodsFor: 'accounts management' stamp: 'HAW 5/25/2019 12:05:04'!
                  accountsIsEmpty
	
	^accounts isEmpty ! !
!Portfolio methodsFor: 'accounts management' stamp: 'HAW 5/25/2019 11:49:06'!
         accountsSize
	
	^accounts size! !
!Portfolio methodsFor: 'accounts management' stamp: 'HAW 5/25/2019 12:19:20'!
                add: accountToAdd

	self assertCanAdd: accountToAdd.
		
	accounts add: accountToAdd.
	accountToAdd addedTo: self 
	! !
!Portfolio methodsFor: 'private' stamp: 'HAW 5/25/2019 11:42:55' overrides: 50333963!
                   addTransactionsTo: aCollectionOfTransactions

	accounts do: [ :anAccount | anAccount addTransactionsTo: aCollectionOfTransactions ]! !
!Portfolio methodsFor: 'composition' stamp: 'HAW 5/25/2019 12:17:31'!
                   addRootParentsTo: rootParents

	parents 
		ifEmpty: [ rootParents add: self ] 
		ifNotEmpty: [ parents do: [ :aParent | aParent addRootParentsTo: rootParents ]]! !
!Portfolio methodsFor: 'composition' stamp: 'HAW 5/25/2019 12:02:59' overrides: 50333955!
  addedTo: aPortfolio 
	
	parents add: aPortfolio ! !
!Portfolio methodsFor: 'composition' stamp: 'HAW 5/25/2019 12:20:56'!
      anyRootParentIsComposedBy: accountToAdd

	^self rootParents anySatisfy: [ :aParent | aParent isComposedBy: accountToAdd]! !
!Portfolio methodsFor: 'composition' stamp: 'HAW 5/25/2019 12:20:36'!
                              assertCanAdd: accountToAdd

	(self anyRootParentIsComposedBy: accountToAdd) ifTrue: [ self signalCanNotAddAccount ].
! !
!Portfolio methodsFor: 'composition' stamp: 'HAW 5/29/2019 16:24:54' overrides: 50333959!
             isComposedBy: anAccount

	^ self = anAccount or: [ accounts anySatisfy: [ :composedAccount | (composedAccount isComposedBy: anAccount) or: [ anAccount isComposedBy: composedAccount ]]]! !
!Portfolio methodsFor: 'composition' stamp: 'HAW 5/25/2019 12:17:31'!
                              rootParents
	
	| rootParents |
	
	rootParents := Set new.
	self addRootParentsTo: rootParents.
	
	^ rootParents! !
!Portfolio methodsFor: 'composition' stamp: 'HAW 5/25/2019 11:48:34'!
       signalCanNotAddAccount
	
	self error: self class canNotAddAccountErrorMessage! !

!classDefinition: 'Portfolio class' category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:58'!
Portfolio class
	instanceVariableNames: ''!

!classDefinition: 'Portfolio class' category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:58'!
Portfolio class
	instanceVariableNames: ''!
!Portfolio class methodsFor: 'as yet unclassified' stamp: 'HAW 5/25/2019 11:48:55'!
                       canNotAddAccountErrorMessage
	
	^'Can not add repeated account to a portfolio'! !
!Portfolio class methodsFor: 'as yet unclassified' stamp: 'HAW 5/25/2019 11:18:21'!
                          with: anAccount

	^self new 
		add: anAccount;
		yourself! !
!Portfolio class methodsFor: 'as yet unclassified' stamp: 'HAW 5/25/2019 11:23:59'!
               with: anAccount with: anotherAccount

	^self new 
		add: anAccount;
		add: anotherAccount;
		yourself! !

!classDefinition: #ReceptiveAccount category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:58'!
Account subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!

!classDefinition: #ReceptiveAccount category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:58'!
Account subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!
!ReceptiveAccount methodsFor: 'initialization' stamp: 'HernanWilkinson 7/13/2011 18:35' overrides: 16896425!
      initialize

	super initialize.
	transactions := OrderedCollection new.! !
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'tg 12/1/2021 16:14:18' overrides: 50333942!
                    balance

	^transactions 
		inject: 0 * peso
		into: [ :currentBalance :transaction | transaction affectBalance: currentBalance ]! !
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'NR 10/21/2019 18:55:56' overrides: 50333946!
                         hasRegistered: aTransaction

	^ transactions includes: aTransaction 
! !
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'HernanWilkinson 7/13/2011 18:37'!
                               register: aTransaction

	transactions add: aTransaction 
! !
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'tg 12/1/2021 16:10:18'!
                     summary
	
	|summary|
	summary := OrderedCollection new.
	(transactions isEmpty) ifTrue: [summary add: 'Balance = 0 pesos'].
	self transactions do: [: aTransaction | 
		(aTransaction isKindOf: Deposit) ifTrue:[ summary add: 'Deposito por ', (aTransaction value) asString].
		(aTransaction isKindOf: Withdraw ) ifTrue:[ summary add: 	'Extraccion por ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferWithdrawLeg ) ifTrue:[ summary add:  'Salida por transferencia de ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferDepositLeg ) ifTrue:[ summary add:  'Entrada por transferencia de ', (aTransaction value) asString].

		].
	summary add: 'Balance = ', (self balance) asString.
	^summary 
! !
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'HernanWilkinson 7/13/2011 18:37' overrides: 50333951!
                             transactions 

	^ transactions copy! !
!ReceptiveAccount methodsFor: 'private' stamp: 'HAW 5/25/2019 11:38:52' overrides: 50333963!
                            addTransactionsTo: aCollectionOfTransactions

	aCollectionOfTransactions addAll: transactions ! !
!ReceptiveAccount methodsFor: 'composition' stamp: 'HAW 5/25/2019 12:03:32' overrides: 50333955!
                             addedTo: aPortfolio 
	
	! !
!ReceptiveAccount methodsFor: 'composition' stamp: 'HAW 5/25/2019 11:54:51' overrides: 50333959!
   isComposedBy: anAccount

	^self = anAccount ! !

!classDefinition: #AccountTransaction category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:58'!
Object subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!

!classDefinition: #AccountTransaction category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:58'!
Object subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!
!AccountTransaction methodsFor: 'value' stamp: 'HernanWilkinson 9/12/2011 12:25' overrides: 16881508!
                        value 

	self subclassResponsibility ! !
!AccountTransaction methodsFor: 'balance' stamp: 'HAW 5/25/2019 11:25:39'!
            affectBalance: aBalance

	self subclassResponsibility ! !

!classDefinition: #Deposit category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:58'!
AccountTransaction subclass: #Deposit
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!

!classDefinition: #Deposit category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:58'!
AccountTransaction subclass: #Deposit
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!
!Deposit methodsFor: 'initialization' stamp: 'HernanWilkinson 7/13/2011 18:45'!
              initializeFor: aValue

	value := aValue ! !
!Deposit methodsFor: 'value' stamp: 'HernanWilkinson 7/13/2011 18:38' overrides: 50334224!
                         value

	^ value! !
!Deposit methodsFor: 'balance' stamp: 'HAW 5/25/2019 11:25:02' overrides: 50334228!
                         affectBalance: aBalance

	^aBalance + value ! !

!classDefinition: 'Deposit class' category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:58'!
Deposit class
	instanceVariableNames: ''!

!classDefinition: 'Deposit class' category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:58'!
Deposit class
	instanceVariableNames: ''!
!Deposit class methodsFor: 'instance creation' stamp: 'HernanWilkinson 7/13/2011 18:38'!
                           for: aValue

	^ self new initializeFor: aValue ! !
!Deposit class methodsFor: 'as yet unclassified' stamp: 'LL 7/8/2021 21:45:00'!
                             register: aValue on: account

	| transaction |
	
	transaction := self for: aValue.
	account register: transaction.
		
	^ transaction! !

!classDefinition: #TransferLeg category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:58'!
AccountTransaction subclass: #TransferLeg
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!

!classDefinition: #TransferLeg category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:58'!
AccountTransaction subclass: #TransferLeg
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!
!TransferLeg methodsFor: 'value' stamp: 'LL 9/20/2020 22:27:32' overrides: 50334224!
     value

	^transfer value! !
!TransferLeg methodsFor: 'initialization' stamp: 'LL 9/20/2020 22:28:14'!
                           initializeWith: aTransfer

	transfer := aTransfer! !

!classDefinition: 'TransferLeg class' category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:58'!
TransferLeg class
	instanceVariableNames: ''!

!classDefinition: 'TransferLeg class' category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:58'!
TransferLeg class
	instanceVariableNames: ''!
!TransferLeg class methodsFor: 'as yet unclassified' stamp: 'LL 9/20/2020 22:45:01'!
          of: aTransfer on: anAccount

	| transaction |
	
	transaction := self new initializeWith: 	aTransfer.
	anAccount register: transaction.	
	
	^transaction! !

!classDefinition: #TransferDepositLeg category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:58'!
TransferLeg subclass: #TransferDepositLeg
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!

!classDefinition: #TransferDepositLeg category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:58'!
TransferLeg subclass: #TransferDepositLeg
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!
!TransferDepositLeg methodsFor: 'accessing' stamp: 'LL 9/20/2020 22:26:10'!
                             withdrawLeg

	^transfer withdrawLeg! !
!TransferDepositLeg methodsFor: 'balance' stamp: 'LL 9/20/2020 22:27:49' overrides: 50334228!
                           affectBalance: aBalance

	^aBalance + self value! !

!classDefinition: #TransferWithdrawLeg category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:58'!
TransferLeg subclass: #TransferWithdrawLeg
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!

!classDefinition: #TransferWithdrawLeg category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:58'!
TransferLeg subclass: #TransferWithdrawLeg
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!
!TransferWithdrawLeg methodsFor: 'accessing' stamp: 'LL 9/20/2020 22:25:47'!
                               depositLeg

	^transfer depositLeg! !
!TransferWithdrawLeg methodsFor: 'balance' stamp: 'LL 9/20/2020 22:27:55' overrides: 50334228!
                            affectBalance: aBalance

	^aBalance - self value! !

!classDefinition: #Withdraw category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:58'!
AccountTransaction subclass: #Withdraw
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!

!classDefinition: #Withdraw category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:58'!
AccountTransaction subclass: #Withdraw
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!
!Withdraw methodsFor: 'initialization' stamp: 'HernanWilkinson 7/13/2011 18:46'!
               initializeFor: aValue

	value := aValue ! !
!Withdraw methodsFor: 'value' stamp: 'HernanWilkinson 7/13/2011 18:33' overrides: 50334224!
                        value

	^ value! !
!Withdraw methodsFor: 'balance' stamp: 'HAW 5/25/2019 11:25:15' overrides: 50334228!
                        affectBalance: aBalance

	^aBalance - value! !

!classDefinition: 'Withdraw class' category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:58'!
Withdraw class
	instanceVariableNames: ''!

!classDefinition: 'Withdraw class' category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:58'!
Withdraw class
	instanceVariableNames: ''!
!Withdraw class methodsFor: 'instance creation' stamp: 'HernanWilkinson 7/13/2011 18:33'!
                       for: aValue

	^ self new initializeFor: aValue ! !
!Withdraw class methodsFor: 'as yet unclassified' stamp: 'LL 7/8/2021 21:45:05'!
                            register: aValue on: account

	| transaction |
	
	transaction := self for: aValue.
	account register: transaction.
		
	^ transaction! !

!classDefinition: #Transfer category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:58'!
Object subclass: #Transfer
	instanceVariableNames: 'value withdrawLeg depositLeg'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!

!classDefinition: #Transfer category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:58'!
Object subclass: #Transfer
	instanceVariableNames: 'value withdrawLeg depositLeg'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!
!Transfer methodsFor: 'value' stamp: 'LL 9/20/2020 21:13:00' overrides: 16881508!
    value

	^value! !
!Transfer methodsFor: 'accessing' stamp: 'LL 9/20/2020 22:39:46'!
            depositLeg

	^depositLeg! !
!Transfer methodsFor: 'accessing' stamp: 'LL 9/20/2020 21:25:56'!
  withdrawLeg
	
	^withdrawLeg! !
!Transfer methodsFor: 'initialization' stamp: 'LL 9/20/2020 21:25:21'!
                          initializeWith: aValue withdrawLeg: aWithdraw depositLeg: aDeposit

	value := aValue.
	withdrawLeg := aWithdraw.
	depositLeg := aDeposit! !

!classDefinition: 'Transfer class' category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:58'!
Transfer class
	instanceVariableNames: ''!

!classDefinition: 'Transfer class' category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 14:18:58'!
Transfer class
	instanceVariableNames: ''!
!Transfer class methodsFor: 'errors' stamp: 'LL 9/20/2020 22:57:30'!
               cannotTransferToOriginErrorDescription
	
	^'Transfer destionation cannot be the origin account'! !
!Transfer class methodsFor: 'errors' stamp: 'LL 9/20/2020 23:00:53'!
                        cannotTransferZeroErrorDescription

	^'Transfer amount should be positive'! !
!Transfer class methodsFor: 'errors' stamp: 'LL 9/20/2020 22:56:35'!
             signalCannotTransferToOrigin
	
	self error: self cannotTransferToOriginErrorDescription! !
!Transfer class methodsFor: 'errors' stamp: 'LL 9/20/2020 23:06:17'!
signalCannotTransferZero

	self error: self cannotTransferZeroErrorDescription! !
!Transfer class methodsFor: 'assertions' stamp: 'LL 9/20/2020 23:05:22'!
     assert: anAmountOfMoney canBeTransferedTo: destinationAccount from: originAccount

	self assertCanTransferTo: destinationAccount from: originAccount.
	self assertCanTransfer: anAmountOfMoney! !
!Transfer class methodsFor: 'assertions' stamp: 'LL 9/20/2020 23:11:50'!
                     assertCanTransfer: anAmountOfMoney

	^ anAmountOfMoney isZero ifTrue: [ self signalCannotTransferZero ]! !
!Transfer class methodsFor: 'assertions' stamp: 'LL 9/20/2020 23:04:58'!
            assertCanTransferTo: destinationAccount from: originAccount

	^ originAccount = destinationAccount ifTrue: [ self signalCannotTransferToOrigin ]! !
!Transfer class methodsFor: 'instance creation' stamp: 'LL 9/20/2020 23:11:34'!
                            amount: anAmountOfMoney from: originAccount to: destinationAccount 
	
	| transfer depositLeg withdrawLeg |
	
	self assert: anAmountOfMoney canBeTransferedTo: destinationAccount from: originAccount.
	
	transfer := self new.
	
	withdrawLeg := TransferWithdrawLeg of: transfer on: originAccount.
	depositLeg := TransferDepositLeg of: transfer on: destinationAccount.
	
	^transfer initializeWith: anAmountOfMoney withdrawLeg: withdrawLeg depositLeg: depositLeg
	
	
	! !
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/2/2021 20:38:46' prior: 50334139 overrides: 50333942!
                            balance

	^transactions 
		inject: 0
		into: [ :currentBalance :transaction | transaction affectBalance: currentBalance ]! !
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/2/2021 20:39:02' prior: 50334548 overrides: 50333942!
                 balance

	^transactions 
		inject: 0 * peso
		into: [ :currentBalance :transaction | transaction affectBalance: currentBalance ]! !
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/2/2021 20:39:13' prior: 50333992 overrides: 50333942!
                 balance
	
	^accounts sum: [ :anAccount | anAccount balance ] ifEmpty: [ 0 * peso ]! !
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/2/2021 20:39:26' prior: 50334564 overrides: 50333942!
                               balance
	
	^accounts sum: [ :anAccount | anAccount balance ] ifEmpty: [ 0 ]! !
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/2/2021 20:40:29' prior: 50334158!
                   summary
	
	|summary|
	summary := OrderedCollection new.
	(transactions isEmpty) ifTrue: [summary add: 'Balance = 0 pesos'].
	self transactions do: [: aTransaction | 
		(aTransaction isKindOf: Deposit) ifTrue:[ summary add: 'Deposito por ', (aTransaction value) asString].
		(aTransaction isKindOf: Withdraw ) ifTrue:[ summary add: 	'Extraccion por ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferWithdrawLeg ) ifTrue:[ summary add:  'Salida por transferencia de ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferDepositLeg ) ifTrue:[ summary add:  'Entrada por transferencia de ', (aTransaction value) asString].

		].
	summary add: 'Balance = ', (self balance) asString.
	^summary 
! !
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/2/2021 20:41:12' prior: 50334577!
           summary
	
	|summary|
	summary := OrderedCollection new.
	(transactions isEmpty) ifTrue: [summary add: 'Balance = 0 pesos'].
	self transactions do: [: aTransaction | 
		(aTransaction isKindOf: Deposit) ifTrue:[ summary add: 'Deposito por ', (aTransaction value) asString, 'pesos'].
		(aTransaction isKindOf: Withdraw ) ifTrue:[ summary add: 	'Extraccion por ', (aTransaction value) asString, 'pesos'].
		(aTransaction isKindOf: TransferWithdrawLeg ) ifTrue:[ summary add:  'Salida por transferencia de ', (aTransaction value) asString, 'pesos'].
		(aTransaction isKindOf: TransferDepositLeg ) ifTrue:[ summary add:  'Entrada por transferencia de ', (aTransaction value) asString, 'pesos'].

		].
	summary add: 'Balance = ', (self balance) asString.
	^summary 
! !
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/2/2021 20:41:22' prior: 50334556 overrides: 50333942!
                   balance

	^transactions 
		inject: 0 
		into: [ :currentBalance :transaction | transaction affectBalance: currentBalance ]! !
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/2/2021 20:42:02' prior: 50334631 overrides: 50333942!
                balance

	^transactions 
		inject: 0 * peso
		into: [ :currentBalance :transaction | transaction affectBalance: currentBalance ]! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/2/2021 20:42:16' prior: 50333749!
 test02
	|anAccount |
	
	anAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: anAccount.
		
	self assert: ((anAccount summary) at: 1) equals: 'Deposito por 100 * pesos'.	
	self assert: ((anAccount summary) at: 2) equals: 'Balance = 100 * pesos'.
! !
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/2/2021 20:42:39' prior: 50334603!
                        summary
	
	|summary|
	summary := OrderedCollection new.
	(transactions isEmpty) ifTrue: [summary add: 'Balance = 0 pesos'].
	self transactions do: [: aTransaction | 
		(aTransaction isKindOf: Deposit) ifTrue:[ summary add: 'Deposito por ', (aTransaction value) asString].
		(aTransaction isKindOf: Withdraw ) ifTrue:[ summary add: 	'Extraccion por ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferWithdrawLeg ) ifTrue:[ summary add:  'Salida por transferencia de ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferDepositLeg ) ifTrue:[ summary add:  'Entrada por transferencia de ', (aTransaction value) asString].

		].
	summary add: 'Balance = ', (self balance) asString.
	^summary 
! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/2/2021 20:42:54' prior: 50333760!
              test03
	|anAccount |
	
	anAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: anAccount.
		
	self assert: ((anAccount summary) at: 1) equals: 'Extraccion por 50 * pesos'.	
	self assert: ((anAccount summary) at: 2) equals: 'Balance = -50 * pesos'.

! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/2/2021 20:43:01' prior: 50333771!
                         test04
	| destinationAccount originAccount |
	
	originAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	
	Transfer amount:  20 * peso from: originAccount to: destinationAccount.
	self assert: ((originAccount summary) at: 1) equals: 'Salida por transferencia de 20 * pesos'.	
	self assert: ((originAccount summary) at: 2) equals: 'Balance = -20 * pesos'.

! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/2/2021 20:43:08' prior: 50333786!
 test05
	| destinationAccount originAccount |
	
	originAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	
	Transfer amount:  20 * peso from: originAccount to: destinationAccount.
	self assert: ((destinationAccount summary) at: 1) equals: 'Entrada por transferencia de 20 * pesos'.	
	self assert: ((destinationAccount summary) at: 2) equals: 'Balance = 20 * pesos'.

! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/2/2021 21:00:29'!
       test06

	|aPortfolioAccount |
	
	aPortfolioAccount := Portfolio new.
		
	self assert: aPortfolioAccount summary equals: (aPortfolioAccount summary).! !
!Account methodsFor: 'main protocol' stamp: 'MG 12/2/2021 21:00:53'!
   summary
	self subclassResponsibility.! !
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/2/2021 21:01:34' overrides: 50334733!
                            summary! !
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/2/2021 21:06:40' prior: 50334658 overrides: 50334733!
   summary
	
	|summary|
	summary := OrderedCollection new.
	(transactions isEmpty) ifTrue: [
		summary add: 'Balance = 0 pesos'.
		^summary.
	].
	self transactions do: [: aTransaction | 
		(aTransaction isKindOf: Deposit) ifTrue:[ summary add: 'Deposito por ', (aTransaction value) asString].
		(aTransaction isKindOf: Withdraw ) ifTrue:[ summary add: 	'Extraccion por ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferWithdrawLeg ) ifTrue:[ summary add:  'Salida por transferencia de ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferDepositLeg ) ifTrue:[ summary add:  'Entrada por transferencia de ', (aTransaction value) asString].

		].
	summary add: 'Balance = ', (self balance) asString.
	^summary 
! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/2/2021 21:07:10' prior: 50333742!
                            test01
	|anAccount |
	
	anAccount := ReceptiveAccount  new.
		
	self assert: ((anAccount summary)at: 1) equals: 'Balance = 0 pesos'.! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/2/2021 21:08:14' prior: 50334726!
                             test06

	|aPortfolioAccount |
	
	aPortfolioAccount := Portfolio new.
		
	self assert: ((aPortfolioAccount summary)at: 1) equals: 'Balance = 0 pesos'.! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/2/2021 21:14:24' prior: 50334646!
            test02
	|anReceptiveAccount |
	
	anReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: anReceptiveAccount.
		
	self assert: ((anReceptiveAccount summary) at: 1) equals: 'Deposito por 100 * pesos'.	
	self assert: ((anReceptiveAccount summary) at: 2) equals: 'Balance = 100 * pesos'.
! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/2/2021 21:14:35' prior: 50334785!
              test02
	|aReceptiveAccount |
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
		
	self assert: ((aReceptiveAccount summary) at: 1) equals: 'Deposito por 100 * pesos'.	
	self assert: ((aReceptiveAccount summary) at: 2) equals: 'Balance = 100 * pesos'.
! !
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/2/2021 21:15:36' prior: 50334738 overrides: 50334733!
   summary
	^'Balance = 0 pesos'! !
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/2/2021 21:19:26' prior: 50334742 overrides: 50334733!
             summary
	
	|summary|
	summary := OrderedCollection new.
	(transactions isEmpty) ifTrue: [
		" ^'Balance = 0 pesos' "
		summary add: 'Balance = 0 pesos'.
		^summary.
	].
	self transactions do: [: aTransaction | 
		(aTransaction isKindOf: Deposit) ifTrue:[ summary add: 'Deposito por ', (aTransaction value) asString].
		(aTransaction isKindOf: Withdraw ) ifTrue:[ summary add: 	'Extraccion por ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferWithdrawLeg ) ifTrue:[ summary add:  'Salida por transferencia de ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferDepositLeg ) ifTrue:[ summary add:  'Entrada por transferencia de ', (aTransaction value) asString].

		].
	summary add: 'Balance = ', (self balance) asString.
	^summary 
! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/2/2021 21:21:14' prior: 50334777!
 test06

	|aPortfolioAccount |
	
	aPortfolioAccount := Portfolio new.
		
	self assert: aPortfolioAccount summary equals: 'Balance = 0 pesos'.! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/2/2021 21:24:03' prior: 50334843!
                     test06

	|aPortfolioAccount aReceptiveAccount |
	
	aPortfolioAccount := Portfolio new.
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
	
	aPortfolioAccount add: aReceptiveAccount.
	
	self assert: ((aPortfolioAccount summary) at: 1) equals: 'Deposito por 100 * pesos'.	
	self assert: ((aPortfolioAccount summary) at: 2) equals: 'Balance = 100 * pesos'.! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/2/2021 21:26:32'!
                              test07

	|aPortfolioAccount aReceptiveAccount |
	
	aPortfolioAccount := Portfolio new.
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
	
	aPortfolioAccount add: aReceptiveAccount.
	
	self assert: ((aPortfolioAccount summary) at: 1) equals: 'Deposito por 100 * pesos'.	
	self assert: ((aPortfolioAccount summary) at: 2) equals: 'Balance = 100 * pesos'.! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/2/2021 21:21:14' prior: 50334851!
              test06

	|aPortfolioAccount |
	
	aPortfolioAccount := Portfolio new.
		
	self assert: aPortfolioAccount summary equals: 'Balance = 0 pesos'.! !
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/2/2021 21:30:59' prior: 50334811 overrides: 50334733!
     summary
	
	| summary |
	(accounts isEmpty) ifTrue:[
		^'Balance = 0 pesos'
	].

	summary := OrderedCollection new.
	
	summary = accounts do: [: anAccount | ^anAccount summary].
	
	^summary.	! !
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/2/2021 21:31:02' prior: 50334891 overrides: 50334733!
                   summary
	
	| summary |
	
	(accounts isEmpty) ifTrue:[
		^'Balance = 0 pesos'
	].

	summary := OrderedCollection new.
	
	summary = accounts do: [: anAccount | ^anAccount summary].
	
	^summary.	! !
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/2/2021 21:32:02' prior: 50334901 overrides: 50334733!
                 summary
	
	| summary |
	
	(accounts isEmpty) ifTrue:[
		^'Balance = 0 pesos'
	].

	summary := OrderedCollection new.
	
	summary = (accounts at: 1 ) summary.
	
	^summary.	! !
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/2/2021 23:45:34' prior: 50334911 overrides: 50334733!
       summary
	
	| summary |
	
	(accounts isEmpty) ifTrue:[
		^'Balance = 0 pesos'
	].

	summary := OrderedCollection new.
	
	summary add: ((accounts at: 1 ) summary).
	
	^summary.	! !
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/2/2021 23:45:44' prior: 50334920 overrides: 50334733!
  summary
	
	| summary |
	
	(accounts isEmpty) ifTrue:[
		^'Balance = 0 pesos'
	].

	summary := OrderedCollection new.
	
	summary := ((accounts at: 1 ) summary).
	
	^summary.	! !

!testRun: #TestXXX #test01 stamp: 'MG 12/5/2021 14:19:21'!
PASSED!

!testRun: #TestXXX #test02 stamp: 'MG 12/5/2021 14:19:21'!
PASSED!

!testRun: #TestXXX #test03 stamp: 'MG 12/5/2021 14:19:21'!
PASSED!

!testRun: #TestXXX #test04 stamp: 'MG 12/5/2021 14:19:21'!
PASSED!

!testRun: #TestXXX #test05 stamp: 'MG 12/5/2021 14:19:21'!
PASSED!

!testRun: #TestXXX #test06 stamp: 'MG 12/5/2021 14:19:21'!
PASSED!

!testRun: #TestXXX #test07 stamp: 'MG 12/5/2021 14:19:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'MG 12/5/2021 14:19:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'MG 12/5/2021 14:19:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'MG 12/5/2021 14:19:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'MG 12/5/2021 14:19:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'MG 12/5/2021 14:19:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'MG 12/5/2021 14:19:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'MG 12/5/2021 14:19:24'!
PASSED!

!testRun: #TransferTest #test01ATransferDecreasesBalanceFromOriginAccountAndIncreasesItForDestinationAccount stamp: 'MG 12/5/2021 14:19:26'!
PASSED!

!testRun: #TransferTest #test02ATransferKnowsItsValue stamp: 'MG 12/5/2021 14:19:26'!
PASSED!

!testRun: #TransferTest #test03DepositLegKnowsItsWithdrawCounterpart stamp: 'MG 12/5/2021 14:19:26'!
PASSED!

!testRun: #TransferTest #test04WithdrawLegKnowsItsDepositCounterpart stamp: 'MG 12/5/2021 14:19:26'!
PASSED!

!testRun: #TransferTest #test05OriginAndDestinationAccountsCannotBeTheSame stamp: 'MG 12/5/2021 14:19:26'!
PASSED!

!testRun: #TransferTest #test06CannotTransferAZeroAmount stamp: 'MG 12/5/2021 14:19:26'!
PASSED!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 14:25:30' prior: 50334769!
        test01
	|anAccount |
	
	anAccount := ReceptiveAccount  new.
		
	self assert: anAccount summary equals: 'Balance = 0 pesos'.! !
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/5/2021 14:26:53' prior: 50334816 overrides: 50334733!
               summary
	|summary|
	
	(transactions isEmpty) ifTrue: [
		^ 'Balance = 0 pesos' 
	].
	
	summary := OrderedCollection new.
	
	self transactions do: [: aTransaction | 
		(aTransaction isKindOf: Deposit) ifTrue:[ summary add: 'Deposito por ', (aTransaction value) asString].
		(aTransaction isKindOf: Withdraw ) ifTrue:[ summary add: 	'Extraccion por ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferWithdrawLeg ) ifTrue:[ summary add:  'Salida por transferencia de ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferDepositLeg ) ifTrue:[ summary add:  'Entrada por transferencia de ', (aTransaction value) asString].

		].
	summary add: 'Balance = ', (self balance) asString.
	^summary 
! !
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/5/2021 14:26:57' prior: 50335008 overrides: 50334733!
                        summary

	|summary|
	
	(transactions isEmpty) ifTrue: [
		^ 'Balance = 0 pesos' 
	].
	
	summary := OrderedCollection new.
	
	self transactions do: [: aTransaction | 
		(aTransaction isKindOf: Deposit) ifTrue:[ summary add: 'Deposito por ', (aTransaction value) asString].
		(aTransaction isKindOf: Withdraw ) ifTrue:[ summary add: 	'Extraccion por ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferWithdrawLeg ) ifTrue:[ summary add:  'Salida por transferencia de ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferDepositLeg ) ifTrue:[ summary add:  'Entrada por transferencia de ', (aTransaction value) asString].

		].
	summary add: 'Balance = ', (self balance) asString.
	^summary 
! !

!testRun: #TestXXX #test01 stamp: 'MG 12/5/2021 14:27:38'!
PASSED!

!testRun: #TestXXX #test02 stamp: 'MG 12/5/2021 14:27:38'!
PASSED!

!testRun: #TestXXX #test03 stamp: 'MG 12/5/2021 14:27:38'!
PASSED!

!testRun: #TestXXX #test04 stamp: 'MG 12/5/2021 14:27:38'!
PASSED!

!testRun: #TestXXX #test05 stamp: 'MG 12/5/2021 14:27:38'!
PASSED!

!testRun: #TestXXX #test06 stamp: 'MG 12/5/2021 14:27:38'!
PASSED!

!testRun: #TestXXX #test07 stamp: 'MG 12/5/2021 14:27:38'!
PASSED!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 14:31:20'!
  test08

	|aPortfolioAccount aReceptiveAccount aSecondReceptiveAccount |
	
	aPortfolioAccount := Portfolio new.
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
	
	aSecondReceptiveAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: aSecondReceptiveAccount.
	
	aPortfolioAccount add: aReceptiveAccount.
	aPortfolioAccount add: aSecondReceptiveAccount.
	
	self assert: ((aPortfolioAccount summary) at: 1) equals: 'Deposito por 100 * pesos'.	
	self assert: ((aPortfolioAccount summary) at: 2) equals: 'Balance = 100 * pesos'.! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 14:32:07' prior: 50335075!
                     test08

	|aPortfolioAccount aReceptiveAccount aSecondReceptiveAccount |
	
	aPortfolioAccount := Portfolio new.
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
	
	aSecondReceptiveAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: aSecondReceptiveAccount.
	
	aPortfolioAccount add: aReceptiveAccount.
	aPortfolioAccount add: aSecondReceptiveAccount.
	
	self assert: ((aPortfolioAccount summary) at: 1) equals: 'Deposito por 100 * pesos'.	
	self assert: ((aPortfolioAccount summary) at: 2) equals: 'Extraccin por 50 * pesos'.	
	self assert: ((aPortfolioAccount summary) at: 3) equals: 'Balance = 50 * pesos'.! !

!testRun: #TestXXX #test08 stamp: 'MG 12/5/2021 14:34:10'!
FAILURE!

!testRun: #TestXXX #test08 stamp: 'MG 12/5/2021 14:34:10'!
FAILURE!
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/5/2021 14:36:53' prior: 50334929 overrides: 50334733!
    summary
	
	| summary |
	
	(accounts isEmpty) ifTrue:[
		^'Balance = 0 pesos'
	].

	summary := OrderedCollection new.
	
	accounts do:[: anAccount | summary add: anAccount summary].
	
	^summary.	! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 14:37:25' prior: 50335097!
test08

	|aPortfolioAccount aReceptiveAccount aSecondReceptiveAccount |
	
	aPortfolioAccount := Portfolio new.
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
	
	aSecondReceptiveAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: aSecondReceptiveAccount.
	
	aPortfolioAccount add: aReceptiveAccount.
	aPortfolioAccount add: aSecondReceptiveAccount.
	
	self assert: ((aPortfolioAccount summary) at: 1) equals: 'Deposito por 100 * pesos'.	
	self assert: ((aPortfolioAccount summary) at: 2) equals: 'Extraccin por 50 * pesos'.	
	self assert: ((aPortfolioAccount summary) at: 3) equals: 'Balance = 50 * pesos'.! !
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/5/2021 14:39:32' prior: 50335126 overrides: 50334733!
              summary
	
	| summary |
	
	(accounts isEmpty) ifTrue:[
		^'Balance = 0 pesos'
	].

	summary := OrderedCollection new.
	
	accounts do:[: anAccount | 
		(anAccount summary) do:[: aSummaryReport |
			summary add: aSummaryReport.
		].
	].
	
	^summary.	! !
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/5/2021 14:41:29' prior: 50335160 overrides: 50334733!
                          summary
	
	| summary |
	
	(accounts isEmpty) ifTrue:[
		^'Balance = 0 pesos'
	].

	summary := OrderedCollection new.
	
	accounts do:[: anAccount | 
		(anAccount summary) do:[: aSummaryReport |
			summary add: aSummaryReport.
		].
	].
	
	summary add: 'Balance = ', (self balance) asString.
	
	^summary.	! !
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/5/2021 14:42:25' prior: 50335172 overrides: 50334733!
   summary
	
	| summary |
	
	(accounts isEmpty) ifTrue:[
		^'Balance = 0 pesos'
	].

	summary := OrderedCollection new.
	
	accounts do:[: anAccount | 
		(anAccount summary) pop.
		(anAccount summary) do:[: aSummaryReport |
			summary add: aSummaryReport.
		].
	].
	
	summary add: 'Balance = ', (self balance) asString.
	
	^summary.	! !
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/5/2021 14:42:35' prior: 50335185 overrides: 50334733!
        summary
	
	| summary |
	
	(accounts isEmpty) ifTrue:[
		^'Balance = 0 pesos'
	].

	summary := OrderedCollection new.
	
	accounts do:[: anAccount | 
		(anAccount summary) removeLast.
		(anAccount summary) do:[: aSummaryReport |
			summary add: aSummaryReport.
		].
	].
	
	summary add: 'Balance = ', (self balance) asString.
	
	^summary.	! !

!testRun: #TestXXX #test01 stamp: 'MG 12/5/2021 14:42:40'!
PASSED!

!testRun: #TestXXX #test02 stamp: 'MG 12/5/2021 14:42:40'!
PASSED!

!testRun: #TestXXX #test03 stamp: 'MG 12/5/2021 14:42:40'!
PASSED!

!testRun: #TestXXX #test04 stamp: 'MG 12/5/2021 14:42:40'!
PASSED!

!testRun: #TestXXX #test05 stamp: 'MG 12/5/2021 14:42:40'!
PASSED!

!testRun: #TestXXX #test06 stamp: 'MG 12/5/2021 14:42:40'!
PASSED!

!testRun: #TestXXX #test07 stamp: 'MG 12/5/2021 14:42:40'!
PASSED!

!testRun: #TestXXX #test08 stamp: 'MG 12/5/2021 14:42:40'!
FAILURE!

!testRun: #TestXXX #test08 stamp: 'MG 12/5/2021 14:42:40'!
FAILURE!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 14:42:58' prior: 50335135!
           test08

	|aPortfolioAccount aReceptiveAccount aSecondReceptiveAccount |
	
	aPortfolioAccount := Portfolio new.
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
	
	aSecondReceptiveAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: aSecondReceptiveAccount.
	
	aPortfolioAccount add: aReceptiveAccount.
	aPortfolioAccount add: aSecondReceptiveAccount.
	
	self assert: ((aPortfolioAccount summary) at: 2) equals: 'Deposito por 100 * pesos'.	
	self assert: ((aPortfolioAccount summary) at: 1) equals: 'Extraccin por 50 * pesos'.	
	self assert: ((aPortfolioAccount summary) at: 3) equals: 'Balance = 50 * pesos'.! !

!testRun: #TestXXX #test08 stamp: 'MG 12/5/2021 14:43:02'!
FAILURE!

!testRun: #TestXXX #test08 stamp: 'MG 12/5/2021 14:43:02'!
FAILURE!

aPortfolioAccount summary!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 14:44:20' prior: 50335232!
                        test08

	|aPortfolioAccount aReceptiveAccount aSecondReceptiveAccount |
	
	aPortfolioAccount := Portfolio new.
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
	
	aSecondReceptiveAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: aSecondReceptiveAccount.
	
	aPortfolioAccount add: aReceptiveAccount.
	aPortfolioAccount add: aSecondReceptiveAccount.
	
	self assert: ((aPortfolioAccount summary) at: 1) equals: 'Deposito por 100 * pesos'.	
	self assert: ((aPortfolioAccount summary) at: 3) equals: 'Extraccin por 50 * pesos'.	
	self assert: ((aPortfolioAccount summary) at: 5) equals: 'Balance = 50 * pesos'.! !

!testRun: #TestXXX #test08 stamp: 'MG 12/5/2021 14:44:22'!
FAILURE!

!testRun: #TestXXX #test08 stamp: 'MG 12/5/2021 14:44:22'!
FAILURE!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 14:44:31' prior: 50335262!
                    test08

	|aPortfolioAccount aReceptiveAccount aSecondReceptiveAccount |
	
	aPortfolioAccount := Portfolio new.
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
	
	aSecondReceptiveAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: aSecondReceptiveAccount.
	
	aPortfolioAccount add: aReceptiveAccount.
	aPortfolioAccount add: aSecondReceptiveAccount.
	
	self assert: ((aPortfolioAccount summary) at: 1) equals: 'Deposito por 100 * pesos'.	
	self assert: ((aPortfolioAccount summary) at: 3) equals: 'Extraccion por 50 * pesos'.	
	self assert: ((aPortfolioAccount summary) at: 5) equals: 'Balance = 50 * pesos'.! !

!testRun: #TestXXX #test08 stamp: 'MG 12/5/2021 14:44:33'!
PASSED!

anAccount summary!
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/5/2021 14:47:04' prior: 50335199 overrides: 50334733!
                      summary
	
	| summary |
	
	(accounts isEmpty) ifTrue:[
		^'Balance = 0 pesos'
	].

	summary := OrderedCollection new.
	
	accounts do:[: anAccount | 
		(anAccount summary removeLast) do:[: aSummaryReport |
			summary add: aSummaryReport.
		].
	].
	
	summary add: 'Balance = ', (self balance) asString.
	
	^summary.	! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 14:47:12' prior: 50335291!
        test08

	|aPortfolioAccount aReceptiveAccount aSecondReceptiveAccount |
	
	aPortfolioAccount := Portfolio new.
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
	
	aSecondReceptiveAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: aSecondReceptiveAccount.
	
	aPortfolioAccount add: aReceptiveAccount.
	aPortfolioAccount add: aSecondReceptiveAccount.
	
	self assert: ((aPortfolioAccount summary) at: 1) equals: 'Deposito por 100 * pesos'.	
	self assert: ((aPortfolioAccount summary) at: 2) equals: 'Extraccion por 50 * pesos'.	
	self assert: ((aPortfolioAccount summary) at: 3) equals: 'Balance = 50 * pesos'.! !

!testRun: #TestXXX #test08 stamp: 'MG 12/5/2021 14:47:14'!
FAILURE!

!testRun: #TestXXX #test08 stamp: 'MG 12/5/2021 14:47:14'!
FAILURE!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 14:48:39' prior: 50335332!
                    test08

	|aPortfolioAccount aReceptiveAccount aSecondReceptiveAccount |
	
	aPortfolioAccount := Portfolio new.
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
	
	aSecondReceptiveAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: aSecondReceptiveAccount.
	
	aPortfolioAccount add: aReceptiveAccount.
	aPortfolioAccount add: aSecondReceptiveAccount.
	
	self assert: 'Deposito por 100 * pesos' equals: ((aPortfolioAccount summary) at: 1).
	self assert:  'Extraccion por 50 * pesos' equals: ((aPortfolioAccount summary) at: 2).	
	self assert:  'Balance = 50 * pesos' equals:  ((aPortfolioAccount summary) at: 3).! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 14:48:45' prior: 50335361!
                            test08

	|aPortfolioAccount aReceptiveAccount aSecondReceptiveAccount |
	
	aPortfolioAccount := Portfolio new.
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
	
	aSecondReceptiveAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: aSecondReceptiveAccount.
	
	aPortfolioAccount add: aReceptiveAccount.
	aPortfolioAccount add: aSecondReceptiveAccount.
	
	self assert: 'Deposito por 100 * pesos' equals: ((aPortfolioAccount summary) at: 1).
	self assert: 'Extraccion por 50 * pesos' equals: ((aPortfolioAccount summary) at: 2).	
	self assert: 'Balance = 50 * pesos' equals:  ((aPortfolioAccount summary) at: 3).! !
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/5/2021 14:49:14' prior: 50335319 overrides: 50334733!
              summary
	
	| summary |
	
	(accounts isEmpty) ifTrue:[
		^'Balance = 0 pesos'
	].

	summary := OrderedCollection new.
	
	accounts do:[: anAccount | 
		(anAccount summary pop) do:[: aSummaryReport |
			summary add: aSummaryReport.
		].
	].
	
	summary add: 'Balance = ', (self balance) asString.
	
	^summary.	! !

!testRun: #TestXXX #test01 stamp: 'MG 12/5/2021 14:49:16'!
PASSED!

!testRun: #TestXXX #test02 stamp: 'MG 12/5/2021 14:49:16'!
PASSED!

!testRun: #TestXXX #test03 stamp: 'MG 12/5/2021 14:49:16'!
PASSED!

!testRun: #TestXXX #test04 stamp: 'MG 12/5/2021 14:49:16'!
PASSED!

!testRun: #TestXXX #test05 stamp: 'MG 12/5/2021 14:49:16'!
PASSED!

!testRun: #TestXXX #test06 stamp: 'MG 12/5/2021 14:49:16'!
PASSED!

!testRun: #TestXXX #test07 stamp: 'MG 12/5/2021 14:49:16'!
ERROR!

!testRun: #TestXXX #test08 stamp: 'MG 12/5/2021 14:49:16'!
ERROR!

!testRun: #TestXXX #test08 stamp: 'MG 12/5/2021 14:49:37'!
ERROR!

!testRun: #TestXXX #test08 stamp: 'MG 12/5/2021 14:49:37'!
ERROR!
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/5/2021 14:54:11' prior: 50335411 overrides: 50334733!
                           summary
	
	| summary |
	
	(accounts isEmpty) ifTrue:[
		^'Balance = 0 pesos'
	].

	summary := OrderedCollection new.
	
	accounts do:[: anAccount | 
		(anAccount summary) do:[: aSummaryReport |
			(aSummaryReport includes: 'Balance') ifFalse:[
				summary add: aSummaryReport
			]
		].
	].
	
	summary add: 'Balance = ', (self balance) asString.
	
	^summary.	! !

!testRun: #TestXXX #test08 stamp: 'MG 12/5/2021 14:54:25'!
FAILURE!

!testRun: #TestXXX #test08 stamp: 'MG 12/5/2021 14:54:25'!
FAILURE!

aPortfolioAccount summary!
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/5/2021 14:55:26' prior: 50335446 overrides: 50334733!
      summary
	
	| summary |
	
	(accounts isEmpty) ifTrue:[
		^'Balance = 0 pesos'
	].

	summary := OrderedCollection new.
	
	accounts do:[: anAccount | 
		(anAccount summary) do:[: aSummaryReport |
			summary add: aSummaryReport.
		].
	].
	
	summary add: 'Balance = ', (self balance) asString.
	
	^summary.	! !
!OrderedCollection methodsFor: 'removing' stamp: 'MG 12/5/2021 14:56:47' prior: 50760527!
                    removeLast
	| temp1 |
	self emptyCheck.
	temp1 _ array at: lastIndex.
	array
		at: lastIndex
		put: nil.
	lastIndex _ lastIndex - 1.
	^ temp1.! !
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/5/2021 15:02:38' prior: 50335466 overrides: 50334733!
   summary
	
	| summary |
	
	(accounts isEmpty) ifTrue:[
		^'Balance = 0 pesos'
	].

	summary := OrderedCollection new.
	
	accounts do:[: anAccount |
		(anAccount summary) do:[: aSummaryReport |
			summary add: aSummaryReport.
		].
	].
	
	summary add: 'Balance = ', (self balance) asString.
	
	^summary.	! !
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/5/2021 15:02:56' prior: 50335487 overrides: 50334733!
    summary
	
	| summary |
	
	(accounts isEmpty) ifTrue:[
		^'Balance = 0 pesos'
	].

	summary := OrderedCollection new.
	
	accounts do:[: anAccount |
		(anAccount summary) do:[: aSummaryReport |
			summary add: aSummaryReport.
		].
	].
	
	summary add: 'Balance total = ', (self balance) asString.
	
	^summary.	! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:04:54' prior: 50335386!
              test08

	|aPortfolioAccount aReceptiveAccount aSecondReceptiveAccount |
	
	aPortfolioAccount := Portfolio new.
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
	
	aSecondReceptiveAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: aSecondReceptiveAccount.
	
	aPortfolioAccount add: aReceptiveAccount.
	aPortfolioAccount add: aSecondReceptiveAccount.
	
	self assert: 'Deposito por 100 * pesos' equals: ((aPortfolioAccount summary) at: 1).
	self assert: 'Balance = 100 * pesos' equals:  ((aPortfolioAccount summary) at: 2).
	self assert: 'Extraccion por 50 * pesos' equals: ((aPortfolioAccount summary) at: 3).	
	self assert: 'Balance = - 50 * pesos' equals:  ((aPortfolioAccount summary) at: 4).
	self assert: 'Balance total = 50 * pesos' equals:  ((aPortfolioAccount summary) at: 5).! !

!testRun: #TestXXX #test08 stamp: 'MG 12/5/2021 15:04:58'!
FAILURE!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:05:17' prior: 50335513!
          test08

	|aPortfolioAccount aReceptiveAccount aSecondReceptiveAccount |
	
	aPortfolioAccount := Portfolio new.
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
	
	aSecondReceptiveAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: aSecondReceptiveAccount.
	
	aPortfolioAccount add: aReceptiveAccount.
	aPortfolioAccount add: aSecondReceptiveAccount.
	
	self assert: 'Deposito por 100 * pesos' equals: ((aPortfolioAccount summary) at: 1).
	self assert: 'Balance = 100 * pesos' equals:  ((aPortfolioAccount summary) at: 2).
	self assert: 'Extraccion por 50 * pesos' equals: ((aPortfolioAccount summary) at: 3).	
	self assert: 'Balance = -50 * pesos' equals:  ((aPortfolioAccount summary) at: 4).
	self assert: 'Balance total = 50 * pesos' equals:  ((aPortfolioAccount summary) at: 5).! !

!testRun: #TestXXX #test08 stamp: 'MG 12/5/2021 15:05:19'!
PASSED!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:06:43'!
                            test01UnaCuentaVaciaTieneUnSumarioConBalance0
	|anAccount |
	
	anAccount := ReceptiveAccount  new.
		
	self assert: anAccount summary equals: 'Balance = 0 pesos'.! !

!methodRemoval: TestXXX #test01 stamp: 'MG 12/5/2021 15:06:43'!
test01
	|anAccount |
	
	anAccount := ReceptiveAccount  new.
		
	self assert: anAccount summary equals: 'Balance = 0 pesos'.!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:07:29'!
                 test02UnaCuentaConUnDepositoDevuelveElSumarioCorrecto
	|aReceptiveAccount |
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
		
	self assert: ((aReceptiveAccount summary) at: 1) equals: 'Deposito por 100 * pesos'.	
	self assert: ((aReceptiveAccount summary) at: 2) equals: 'Balance = 100 * pesos'.
! !

!methodRemoval: TestXXX #test02 stamp: 'MG 12/5/2021 15:07:29'!
test02
	|aReceptiveAccount |
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
		
	self assert: ((aReceptiveAccount summary) at: 1) equals: 'Deposito por 100 * pesos'.	
	self assert: ((aReceptiveAccount summary) at: 2) equals: 'Balance = 100 * pesos'.
!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:07:54'!
   test03UnaCuentaConUnaExtraccionDevuelveElSumarioCorrecto
	|anAccount |
	
	anAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: anAccount.
		
	self assert: ((anAccount summary) at: 1) equals: 'Extraccion por 50 * pesos'.	
	self assert: ((anAccount summary) at: 2) equals: 'Balance = -50 * pesos'.

! !

!methodRemoval: TestXXX #test03 stamp: 'MG 12/5/2021 15:07:54'!
test03
	|anAccount |
	
	anAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: anAccount.
		
	self assert: ((anAccount summary) at: 1) equals: 'Extraccion por 50 * pesos'.	
	self assert: ((anAccount summary) at: 2) equals: 'Balance = -50 * pesos'.

!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:09:30'!
            test04LaCuentaOrigenDeUnaTransfereciaDevuelveElSumarioCorrecto
	| destinationAccount originAccount |
	
	originAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	
	Transfer amount:  20 * peso from: originAccount to: destinationAccount.
	self assert: ((originAccount summary) at: 1) equals: 'Salida por transferencia de 20 * pesos'.	
	self assert: ((originAccount summary) at: 2) equals: 'Balance = -20 * pesos'.

! !

!methodRemoval: TestXXX #test04 stamp: 'MG 12/5/2021 15:09:30'!
test04
	| destinationAccount originAccount |
	
	originAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	
	Transfer amount:  20 * peso from: originAccount to: destinationAccount.
	self assert: ((originAccount summary) at: 1) equals: 'Salida por transferencia de 20 * pesos'.	
	self assert: ((originAccount summary) at: 2) equals: 'Balance = -20 * pesos'.

!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:10:04'!
                      test05LaCuentaDestinoDeUnaTransfereciaDevuelveElSumarioCorrecto
	| destinationAccount originAccount |
	
	originAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	
	Transfer amount:  20 * peso from: originAccount to: destinationAccount.
	self assert: ((destinationAccount summary) at: 1) equals: 'Entrada por transferencia de 20 * pesos'.	
	self assert: ((destinationAccount summary) at: 2) equals: 'Balance = 20 * pesos'.

! !

!methodRemoval: TestXXX #test05 stamp: 'MG 12/5/2021 15:10:04'!
test05
	| destinationAccount originAccount |
	
	originAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	
	Transfer amount:  20 * peso from: originAccount to: destinationAccount.
	self assert: ((destinationAccount summary) at: 1) equals: 'Entrada por transferencia de 20 * pesos'.	
	self assert: ((destinationAccount summary) at: 2) equals: 'Balance = 20 * pesos'.

!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:10:45'!
 test06UnPortfolioSinCuentasTieneUnSumarioCorrecto

	|aPortfolioAccount |
	
	aPortfolioAccount := Portfolio new.
		
	self assert: aPortfolioAccount summary equals: 'Balance = 0 pesos'.! !

!methodRemoval: TestXXX #test06 stamp: 'MG 12/5/2021 15:10:45'!
test06

	|aPortfolioAccount |
	
	aPortfolioAccount := Portfolio new.
		
	self assert: aPortfolioAccount summary equals: 'Balance = 0 pesos'.!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:10:56'!
           test01UnaCuentaVaciaTieneUnSumarioCorrecto
	|anAccount |
	
	anAccount := ReceptiveAccount  new.
		
	self assert: anAccount summary equals: 'Balance = 0 pesos'.! !

!methodRemoval: TestXXX #test01UnaCuentaVaciaTieneUnSumarioConBalance0 stamp: 'MG 12/5/2021 15:10:56'!
test01UnaCuentaVaciaTieneUnSumarioConBalance0
	|anAccount |
	
	anAccount := ReceptiveAccount  new.
		
	self assert: anAccount summary equals: 'Balance = 0 pesos'.!

!testRun: #TestXXX #test07 stamp: 'MG 12/5/2021 15:11:00'!
PASSED!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:12:11'!
  test07UnPorfolioConUnaCuentaDevuelveUnSumarioCorrecto

	|aPortfolioAccount aReceptiveAccount |
	
	aPortfolioAccount := Portfolio new.
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
	
	aPortfolioAccount add: aReceptiveAccount.
	
	self assert: ((aPortfolioAccount summary) at: 1) equals: 'Deposito por 100 * pesos'.	
	self assert: ((aPortfolioAccount summary) at: 2) equals: 'Balance = 100 * pesos'.! !

!methodRemoval: TestXXX #test07 stamp: 'MG 12/5/2021 15:12:11'!
test07

	|aPortfolioAccount aReceptiveAccount |
	
	aPortfolioAccount := Portfolio new.
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
	
	aPortfolioAccount add: aReceptiveAccount.
	
	self assert: ((aPortfolioAccount summary) at: 1) equals: 'Deposito por 100 * pesos'.	
	self assert: ((aPortfolioAccount summary) at: 2) equals: 'Balance = 100 * pesos'.!
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/5/2021 15:13:26' prior: 50335500 overrides: 50334733!
                         summary
	
	| summary |
	
	(accounts isEmpty) ifTrue:[
		^'Balance total = 0 pesos'
	].

	summary := OrderedCollection new.
	
	accounts do:[: anAccount |
		(anAccount summary) do:[: aSummaryReport |
			summary add: aSummaryReport.
		].
	].
	
	summary add: 'Balance total = ', (self balance) asString.
	
	^summary.	! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:13:37' prior: 50335701!
        test06UnPortfolioSinCuentasTieneUnSumarioCorrecto

	|aPortfolioAccount |
	
	aPortfolioAccount := Portfolio new.
		
	self assert: aPortfolioAccount summary equals: 'Balance total = 0 pesos'.! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:14:29'!
                    test08UnPorfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto

	|aPortfolioAccount aReceptiveAccount aSecondReceptiveAccount |
	
	aPortfolioAccount := Portfolio new.
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
	
	aSecondReceptiveAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: aSecondReceptiveAccount.
	
	aPortfolioAccount add: aReceptiveAccount.
	aPortfolioAccount add: aSecondReceptiveAccount.
	
	self assert: 'Deposito por 100 * pesos' equals: ((aPortfolioAccount summary) at: 1).
	self assert: 'Balance = 100 * pesos' equals:  ((aPortfolioAccount summary) at: 2).
	self assert: 'Extraccion por 50 * pesos' equals: ((aPortfolioAccount summary) at: 3).	
	self assert: 'Balance = -50 * pesos' equals:  ((aPortfolioAccount summary) at: 4).
	self assert: 'Balance total = 50 * pesos' equals:  ((aPortfolioAccount summary) at: 5).! !

!methodRemoval: TestXXX #test08 stamp: 'MG 12/5/2021 15:14:29'!
test08

	|aPortfolioAccount aReceptiveAccount aSecondReceptiveAccount |
	
	aPortfolioAccount := Portfolio new.
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
	
	aSecondReceptiveAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: aSecondReceptiveAccount.
	
	aPortfolioAccount add: aReceptiveAccount.
	aPortfolioAccount add: aSecondReceptiveAccount.
	
	self assert: 'Deposito por 100 * pesos' equals: ((aPortfolioAccount summary) at: 1).
	self assert: 'Balance = 100 * pesos' equals:  ((aPortfolioAccount summary) at: 2).
	self assert: 'Extraccion por 50 * pesos' equals: ((aPortfolioAccount summary) at: 3).	
	self assert: 'Balance = -50 * pesos' equals:  ((aPortfolioAccount summary) at: 4).
	self assert: 'Balance total = 50 * pesos' equals:  ((aPortfolioAccount summary) at: 5).!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:16:19'!
                        test09

	|aPortfolioAccount aReceptiveAccount |
	
	aPortfolioAccount := Portfolio new.
	
	aReceptiveAccount := ReceptiveAccount  new.
	
	aPortfolioAccount add: aReceptiveAccount.
	
	self assert: ((aPortfolioAccount summary) at: 1) equals: 'Balance total = 0 * pesos'.! !

!testRun: #TestXXX #test09 stamp: 'MG 12/5/2021 15:16:22'!
FAILURE!

!testRun: #TestXXX #test08UnPorfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 15:16:30'!
PASSED!

!testRun: #TestXXX #test06UnPortfolioSinCuentasTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 15:16:31'!
PASSED!

!testRun: #TestXXX #test07UnPorfolioConUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 15:16:35'!
PASSED!

!testRun: #TestXXX #test01UnaCuentaVaciaTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 15:16:42'!
PASSED!

!testRun: #TestXXX #test02UnaCuentaConUnDepositoDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:16:42'!
PASSED!

!testRun: #TestXXX #test03UnaCuentaConUnaExtraccionDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:16:42'!
PASSED!

!testRun: #TestXXX #test04LaCuentaOrigenDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:16:42'!
PASSED!

!testRun: #TestXXX #test05LaCuentaDestinoDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:16:42'!
PASSED!

!testRun: #TestXXX #test06UnPortfolioSinCuentasTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 15:16:42'!
PASSED!

!testRun: #TestXXX #test07UnPorfolioConUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 15:16:42'!
PASSED!

!testRun: #TestXXX #test08UnPorfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 15:16:42'!
PASSED!

!testRun: #TestXXX #test09 stamp: 'MG 12/5/2021 15:16:42'!
FAILURE!

!testRun: #TestXXX #test09 stamp: 'MG 12/5/2021 15:16:42'!
FAILURE!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:17:51' prior: 50335734!
         test07UnPorfolioConUnaCuentaDevuelveUnSumarioCorrecto

	|aPortfolioAccount aReceptiveAccount |
	
	aPortfolioAccount := Portfolio new.
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
	
	aPortfolioAccount add: aReceptiveAccount.
	
	self assert: ((aPortfolioAccount summary) at: 1) equals: 'Deposito por 100 * pesos'.	
	self assert: ((aPortfolioAccount summary) at: 2) equals: 'Balance = 100 * pesos'.
	self assert: ((aPortfolioAccount summary) at: 3) equals: 'Balance total = 100 * pesos'.! !

!testRun: #TestXXX #test07UnPorfolioConUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 15:18:02'!
PASSED!

!testRun: #TestXXX #test01UnaCuentaVaciaTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 15:18:02'!
PASSED!

!testRun: #TestXXX #test02UnaCuentaConUnDepositoDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:18:02'!
PASSED!

!testRun: #TestXXX #test03UnaCuentaConUnaExtraccionDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:18:02'!
PASSED!

!testRun: #TestXXX #test04LaCuentaOrigenDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:18:02'!
PASSED!

!testRun: #TestXXX #test05LaCuentaDestinoDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:18:02'!
PASSED!

!testRun: #TestXXX #test06UnPortfolioSinCuentasTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 15:18:02'!
PASSED!

!testRun: #TestXXX #test07UnPorfolioConUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 15:18:02'!
PASSED!

!testRun: #TestXXX #test08UnPorfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 15:18:02'!
PASSED!

!testRun: #TestXXX #test09 stamp: 'MG 12/5/2021 15:18:02'!
FAILURE!

!testRun: #TestXXX #test09 stamp: 'MG 12/5/2021 15:18:02'!
FAILURE!

!testRun: #TestXXX #test09 stamp: 'MG 12/5/2021 15:18:29'!
FAILURE!

!testRun: #TestXXX #test09 stamp: 'MG 12/5/2021 15:18:29'!
FAILURE!

!testRun: #TestXXX #test09 stamp: 'MG 12/5/2021 15:18:43'!
FAILURE!

!testRun: #TestXXX #test09 stamp: 'MG 12/5/2021 15:19:00'!
FAILURE!

!testRun: #TestXXX #test09 stamp: 'MG 12/5/2021 15:19:00'!
FAILURE!

(aPortfolioAccount summary)!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:19:39' prior: 50335849!
              test09

	|aPortfolioAccount aReceptiveAccount |
	
	aPortfolioAccount := Portfolio new.
	
	aReceptiveAccount := ReceptiveAccount  new.
	
	aPortfolioAccount add: aReceptiveAccount.
	
	self assert: aPortfolioAccount summary equals: 'Balance total = 0 * pesos'.! !

!testRun: #TestXXX #test09 stamp: 'MG 12/5/2021 15:19:42'!
FAILURE!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:19:52' prior: 50335976!
                           test09

	|aPortfolioAccount aReceptiveAccount |
	
	aPortfolioAccount := Portfolio new.
	
	aReceptiveAccount := ReceptiveAccount  new.
	
	aPortfolioAccount add: aReceptiveAccount.
	
	self assert: (aPortfolioAccount summary) equals: 'Balance total = 0 * pesos'.! !

!testRun: #TestXXX #test09 stamp: 'MG 12/5/2021 15:19:55'!
FAILURE!
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/5/2021 15:21:03' prior: 50335767 overrides: 50334733!
         summary
	
	| summary |
	
	(accounts isEmpty) ifTrue:[
		^'Balance total = 0 pesos'
	].

	summary := OrderedCollection new.
	
	accounts do:[: anAccount |
		(anAccount summary) do:[: aSummaryReport |
			summary add: aSummaryReport.
		].
	].
	
	summary add: 'Balance total = ', (self balance) asString.
	
	^summary.	! !
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/5/2021 15:22:17' prior: 50335035 overrides: 50334733!
                 summary

	|summary|
	
	summary := OrderedCollection new.
	
	(transactions isEmpty) ifTrue: [
		summary add: 'Balance = 0 pesos'.
		^summary.
	].
	
	self transactions do: [: aTransaction | 
		(aTransaction isKindOf: Deposit) ifTrue:[ summary add: 'Deposito por ', (aTransaction value) asString].
		(aTransaction isKindOf: Withdraw ) ifTrue:[ summary add: 	'Extraccion por ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferWithdrawLeg ) ifTrue:[ summary add:  'Salida por transferencia de ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferDepositLeg ) ifTrue:[ summary add:  'Entrada por transferencia de ', (aTransaction value) asString].

		].
	summary add: 'Balance = ', (self balance) asString.
	^summary 
! !
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/5/2021 15:22:51' prior: 50336004 overrides: 50334733!
       summary
	
	| summary |

	summary := OrderedCollection new.

	(accounts isEmpty) ifTrue:[
		summary add: 'Balance total = 0 pesos'.
		^summary.
	].
		
	accounts do:[: anAccount |
		(anAccount summary) do:[: aSummaryReport |
			summary add: aSummaryReport.
		].
	].
	
	summary add: 'Balance total = ', (self balance) asString.
	
	^summary.	! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:23:09' prior: 50335716!
               test01UnaCuentaVaciaTieneUnSumarioCorrecto
	|anAccount |
	
	anAccount := ReceptiveAccount  new.
		
	self assert: (anAccount summary at: 1) equals: 'Balance = 0 pesos'.! !

!testRun: #TestXXX #test01UnaCuentaVaciaTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 15:23:11'!
PASSED!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:23:21' prior: 50335780!
                  test06UnPortfolioSinCuentasTieneUnSumarioCorrecto

	|aPortfolioAccount |
	
	aPortfolioAccount := Portfolio new.
		
	self assert: (aPortfolioAccount summary at: 1) equals: 'Balance total = 0 pesos'.! !

!testRun: #TestXXX #test06UnPortfolioSinCuentasTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 15:23:24'!
PASSED!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:23:38' prior: 50335990!
             test09

	|aPortfolioAccount aReceptiveAccount |
	
	aPortfolioAccount := Portfolio new.
	
	aReceptiveAccount := ReceptiveAccount  new.
	
	aPortfolioAccount add: aReceptiveAccount.
	
	self assert: (aPortfolioAccount summary at: 1) equals: 'Balance total = 0 * pesos'.! !

!testRun: #TestXXX #test09 stamp: 'MG 12/5/2021 15:23:41'!
FAILURE!

!testRun: #TestXXX #test09 stamp: 'MG 12/5/2021 15:23:41'!
FAILURE!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:23:51' prior: 50336084!
              test09

	|aPortfolioAccount aReceptiveAccount |
	
	aPortfolioAccount := Portfolio new.
	
	aReceptiveAccount := ReceptiveAccount  new.
	
	aPortfolioAccount add: aReceptiveAccount.
	
	self assert: (aPortfolioAccount summary at: 2) equals: 'Balance total = 0 * pesos'.! !

!testRun: #TestXXX #test09 stamp: 'MG 12/5/2021 15:23:52'!
PASSED!

!testRun: #TestXXX #test01UnaCuentaVaciaTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 15:23:52'!
PASSED!

!testRun: #TestXXX #test02UnaCuentaConUnDepositoDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:23:52'!
PASSED!

!testRun: #TestXXX #test03UnaCuentaConUnaExtraccionDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:23:52'!
PASSED!

!testRun: #TestXXX #test04LaCuentaOrigenDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:23:52'!
PASSED!

!testRun: #TestXXX #test05LaCuentaDestinoDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:23:52'!
PASSED!

!testRun: #TestXXX #test06UnPortfolioSinCuentasTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 15:23:52'!
PASSED!

!testRun: #TestXXX #test07UnPorfolioConUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 15:23:52'!
PASSED!

!testRun: #TestXXX #test08UnPorfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 15:23:52'!
PASSED!

!testRun: #TestXXX #test09 stamp: 'MG 12/5/2021 15:23:52'!
PASSED!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:23:58' prior: 50336100!
            test09

	|aPortfolioAccount aReceptiveAccount |
	
	aPortfolioAccount := Portfolio new.
	
	aReceptiveAccount := ReceptiveAccount  new.
	
	aPortfolioAccount add: aReceptiveAccount.
	
	self assert: (aPortfolioAccount summary at: 1) equals: 'Balance total = 0 * pesos'.! !
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/5/2021 15:25:09' prior: 50336045 overrides: 50334733!
        summary
	
	| summary |

	summary := OrderedCollection new.

	(accounts isEmpty or:[ accounts transactions isEmpty]) ifTrue:[
		summary add: 'Balance total = 0 pesos'.
		^summary.
	].
		
	accounts do:[: anAccount |
		(anAccount summary) do:[: aSummaryReport |
			summary add: aSummaryReport.
		].
	].
	
	summary add: 'Balance total = ', (self balance) asString.
	
	^summary.	! !

!testRun: #TestXXX #test09 stamp: 'MG 12/5/2021 15:25:17'!
ERROR!

!testRun: #TestXXX #test09 stamp: 'MG 12/5/2021 15:25:17'!
ERROR!
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/5/2021 15:27:15' prior: 50336157 overrides: 50334733!
                     summary
	
	| summary |

	summary := OrderedCollection new.

	(accounts isEmpty) ifTrue:[
		summary add: 'Balance total = 0 pesos'.
		^summary.
	].
		
	accounts do:[: anAccount |
		(anAccount transactions isEmpty) ifFalse:[
			(anAccount summary) do:[: aSummaryReport |
			summary add: aSummaryReport.
			].
		].
	].
	
	summary add: 'Balance total = ', (self balance) asString.
	
	^summary.	! !

!testRun: #TestXXX #test09 stamp: 'MG 12/5/2021 15:27:19'!
PASSED!
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/5/2021 15:27:45' prior: 50336177 overrides: 50334733!
       summary
	
	| summary |

	summary := OrderedCollection new.

	(accounts isEmpty) ifTrue:[
		summary add: 'Balance total = 0 pesos'.
		^summary.
	].
		
	accounts do:[: anAccount |
		(anAccount transactions isEmpty) ifFalse:[
			(anAccount summary) do:[: aSummaryReport |
				summary add: aSummaryReport.
			].
		].
	].
	
	summary add: 'Balance total = ', (self balance) asString.
	
	^summary.	! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:27:54'!
          test10

	|aPortfolioAccount aReceptiveAccount |
	
	aPortfolioAccount := Portfolio new.
	
	aReceptiveAccount := ReceptiveAccount  new.
	
	aPortfolioAccount add: aReceptiveAccount.
	
	self assert: (aPortfolioAccount summary at: 1) equals: 'Balance total = 0 * pesos'.! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:28:17' prior: 50336210!
                        test10

	|aPortfolioAccount aReceptiveAccount aSecondReceptiveAccount |
	
	aPortfolioAccount := Portfolio new.
	
	aReceptiveAccount := ReceptiveAccount  new.
	
	aPortfolioAccount add: aReceptiveAccount.
	
	aSecondReceptiveAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: aSecondReceptiveAccount.
	
	aPortfolioAccount add: aSecondReceptiveAccount.
	
	self assert: (aPortfolioAccount summary at: 1) equals: 'Balance total = 0 * pesos'.! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:29:07' prior: 50336222!
                             test10

	|aPortfolioAccount aReceptiveAccount aSecondReceptiveAccount |
	
	aPortfolioAccount := Portfolio new.
	
	aReceptiveAccount := ReceptiveAccount  new.
	
	aPortfolioAccount add: aReceptiveAccount.
	
	aSecondReceptiveAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: aSecondReceptiveAccount.
	
	aPortfolioAccount add: aSecondReceptiveAccount.
	
	self assert: ((aPortfolioAccount summary) at: 1) equals: 'Extraccion por 100 * pesos'.	
	self assert: ((aPortfolioAccount summary) at: 2) equals: 'Balance = -50 * pesos'.
	self assert: ((aPortfolioAccount summary) at: 3) equals: 'Balance total = -50 * pesos'.	! !

!testRun: #TestXXX #test10 stamp: 'MG 12/5/2021 15:29:15'!
FAILURE!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:29:24' prior: 50336240!
       test10

	|aPortfolioAccount aReceptiveAccount aSecondReceptiveAccount |
	
	aPortfolioAccount := Portfolio new.
	
	aReceptiveAccount := ReceptiveAccount  new.
	
	aPortfolioAccount add: aReceptiveAccount.
	
	aSecondReceptiveAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: aSecondReceptiveAccount.
	
	aPortfolioAccount add: aSecondReceptiveAccount.
	
	self assert: ((aPortfolioAccount summary) at: 1) equals: 'Extraccion por 50 * pesos'.	
	self assert: ((aPortfolioAccount summary) at: 2) equals: 'Balance = -50 * pesos'.
	self assert: ((aPortfolioAccount summary) at: 3) equals: 'Balance total = -50 * pesos'.	! !

!testRun: #TestXXX #test10 stamp: 'MG 12/5/2021 15:29:26'!
PASSED!

!classDefinition: #TestXXX category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 15:31:26'!
TestCase subclass: #TestXXX
	instanceVariableNames: 'mainReceptiveAccount'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!

!classDefinition: #TestXXX category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 15:31:26'!
TestCase subclass: #TestXXX
	instanceVariableNames: 'mainReceptiveAccount mainPortfolio'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!
!TestXXX methodsFor: 'nil' stamp: 'MG 12/5/2021 15:31:24' overrides: 16927572!
                     setUp

	mainReceptiveAccount := ReceptiveAccount new.
	mainPortfolio := Portfolio new.! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:31:41' prior: 50336059!
           test01UnaCuentaVaciaTieneUnSumarioCorrecto

	self assert: (mainReceptiveAccount summary at: 1) equals: 'Balance = 0 pesos'.! !

!testRun: #TestXXX #test01UnaCuentaVaciaTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 15:31:43'!
PASSED!

!testRun: #TestXXX #test01UnaCuentaVaciaTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 15:31:43'!
PASSED!

!testRun: #TestXXX #test02UnaCuentaConUnDepositoDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:31:43'!
PASSED!

!testRun: #TestXXX #test03UnaCuentaConUnaExtraccionDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:31:43'!
PASSED!

!testRun: #TestXXX #test04LaCuentaOrigenDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:31:43'!
PASSED!

!testRun: #TestXXX #test05LaCuentaDestinoDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:31:43'!
PASSED!

!testRun: #TestXXX #test06UnPortfolioSinCuentasTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 15:31:43'!
PASSED!

!testRun: #TestXXX #test07UnPorfolioConUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 15:31:43'!
PASSED!

!testRun: #TestXXX #test08UnPorfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 15:31:43'!
PASSED!

!testRun: #TestXXX #test09 stamp: 'MG 12/5/2021 15:31:43'!
PASSED!

!testRun: #TestXXX #test10 stamp: 'MG 12/5/2021 15:31:43'!
PASSED!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:32:19' prior: 50335591!
                  test02UnaCuentaConUnDepositoDevuelveElSumarioCorrecto
	
	
	Deposit register: 100* peso  on: mainReceptiveAccount.
		
	self assert: ((mainReceptiveAccount summary) at: 1) equals: 'Deposito por 100 * pesos'.	
	self assert: ((mainReceptiveAccount summary) at: 2) equals: 'Balance = 100 * pesos'.
! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:32:23' prior: 50336358!
                            test02UnaCuentaConUnDepositoDevuelveElSumarioCorrecto
	
	Deposit register: 100* peso  on: mainReceptiveAccount.
		
	self assert: ((mainReceptiveAccount summary) at: 1) equals: 'Deposito por 100 * pesos'.	
	self assert: ((mainReceptiveAccount summary) at: 2) equals: 'Balance = 100 * pesos'.
! !

!testRun: #TestXXX #test02UnaCuentaConUnDepositoDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:32:26'!
PASSED!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:32:36' prior: 50335616!
           test03UnaCuentaConUnaExtraccionDevuelveElSumarioCorrecto

	Withdraw register: 50* peso  on: mainReceptiveAccount.
		
	self assert: ((mainReceptiveAccount summary) at: 1) equals: 'Extraccion por 50 * pesos'.	
	self assert: ((mainReceptiveAccount summary) at: 2) equals: 'Balance = -50 * pesos'.

! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:33:13' prior: 50336071!
                          test06UnPortfolioSinCuentasTieneUnSumarioCorrecto
		
	self assert: (mainPortfolio summary at: 1) equals: 'Balance total = 0 pesos'.! !

!testRun: #TestXXX #test06UnPortfolioSinCuentasTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 15:33:15'!
PASSED!

!testRun: #TestXXX #test01UnaCuentaVaciaTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 15:33:15'!
PASSED!

!testRun: #TestXXX #test02UnaCuentaConUnDepositoDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:33:15'!
PASSED!

!testRun: #TestXXX #test03UnaCuentaConUnaExtraccionDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:33:15'!
PASSED!

!testRun: #TestXXX #test04LaCuentaOrigenDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:33:15'!
PASSED!

!testRun: #TestXXX #test05LaCuentaDestinoDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:33:15'!
PASSED!

!testRun: #TestXXX #test06UnPortfolioSinCuentasTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 15:33:15'!
PASSED!

!testRun: #TestXXX #test07UnPorfolioConUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 15:33:15'!
PASSED!

!testRun: #TestXXX #test08UnPorfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 15:33:15'!
PASSED!

!testRun: #TestXXX #test09 stamp: 'MG 12/5/2021 15:33:15'!
PASSED!

!testRun: #TestXXX #test10 stamp: 'MG 12/5/2021 15:33:15'!
PASSED!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:33:31' prior: 50335907!
   test07UnPorfolioConUnaCuentaDevuelveUnSumarioCorrecto

	|aReceptiveAccount |
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
	
	mainPortfolio add: aReceptiveAccount.
	
	self assert: ((mainPortfolio summary) at: 1) equals: 'Deposito por 100 * pesos'.	
	self assert: ((mainPortfolio summary) at: 2) equals: 'Balance = 100 * pesos'.
	self assert: ((mainPortfolio summary) at: 3) equals: 'Balance total = 100 * pesos'.! !

!testRun: #TestXXX #test07UnPorfolioConUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 15:33:35'!
PASSED!

!testRun: #TestXXX #test01UnaCuentaVaciaTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 15:33:35'!
PASSED!

!testRun: #TestXXX #test02UnaCuentaConUnDepositoDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:33:35'!
PASSED!

!testRun: #TestXXX #test03UnaCuentaConUnaExtraccionDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:33:35'!
PASSED!

!testRun: #TestXXX #test04LaCuentaOrigenDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:33:35'!
PASSED!

!testRun: #TestXXX #test05LaCuentaDestinoDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:33:35'!
PASSED!

!testRun: #TestXXX #test06UnPortfolioSinCuentasTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 15:33:35'!
PASSED!

!testRun: #TestXXX #test07UnPorfolioConUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 15:33:35'!
PASSED!

!testRun: #TestXXX #test08UnPorfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 15:33:35'!
PASSED!

!testRun: #TestXXX #test09 stamp: 'MG 12/5/2021 15:33:35'!
PASSED!

!testRun: #TestXXX #test10 stamp: 'MG 12/5/2021 15:33:35'!
PASSED!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:33:49' prior: 50335789!
                test08UnPorfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto

	|aPortfolioAccount aReceptiveAccount aSecondReceptiveAccount |
	
	aPortfolioAccount := Portfolio new.
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
	
	aSecondReceptiveAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: aSecondReceptiveAccount.
	
	mainPortfolio add: aReceptiveAccount.
	mainPortfolio add: aSecondReceptiveAccount.
	
	self assert: 'Deposito por 100 * pesos' equals: ((mainPortfolio summary) at: 1).
	self assert: 'Balance = 100 * pesos' equals:  ((mainPortfolio summary) at: 2).
	self assert: 'Extraccion por 50 * pesos' equals: ((mainPortfolio summary) at: 3).	
	self assert: 'Balance = -50 * pesos' equals:  ((mainPortfolio summary) at: 4).
	self assert: 'Balance total = 50 * pesos' equals:  ((mainPortfolio summary) at: 5).! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:33:56' prior: 50336499!
                        test08UnPorfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto

	|aReceptiveAccount aSecondReceptiveAccount |
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
	
	aSecondReceptiveAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: aSecondReceptiveAccount.
	
	mainPortfolio add: aReceptiveAccount.
	mainPortfolio add: aSecondReceptiveAccount.
	
	self assert: 'Deposito por 100 * pesos' equals: ((mainPortfolio summary) at: 1).
	self assert: 'Balance = 100 * pesos' equals:  ((mainPortfolio summary) at: 2).
	self assert: 'Extraccion por 50 * pesos' equals: ((mainPortfolio summary) at: 3).	
	self assert: 'Balance = -50 * pesos' equals:  ((mainPortfolio summary) at: 4).
	self assert: 'Balance total = 50 * pesos' equals:  ((mainPortfolio summary) at: 5).! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:34:07' prior: 50336145!
                 test09

	|aReceptiveAccount |
	
	aReceptiveAccount := ReceptiveAccount  new.
	
	mainPortfolio add: aReceptiveAccount.
	
	self assert: (mainPortfolio summary at: 1) equals: 'Balance total = 0 * pesos'.! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:36:21' prior: 50336265!
                         test10

	|aPortfolioAccount aReceptiveAccount |
	
	aReceptiveAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: aReceptiveAccount.
	
	aPortfolioAccount := Portfolio new.
	aPortfolioAccount add: aReceptiveAccount.
	
	mainPortfolio add: aPortfolioAccount.
	
	self assert: ((mainPortfolio summary) at: 1) equals: 'Extraccion por 50 * pesos'.	
	self assert: ((mainPortfolio summary) at: 2) equals: 'Balance = -50 * pesos'.
	self assert: ((mainPortfolio summary) at: 3) equals: 'Balance total = -50 * pesos'.	! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:36:50' prior: 50336569!
                        test10

	|aPortfolioAccount aReceptiveAccount |
	
	aReceptiveAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: aReceptiveAccount.
	
	aPortfolioAccount := Portfolio new.
	aPortfolioAccount add: aReceptiveAccount.
	
	mainPortfolio add: aPortfolioAccount.
	
	self assert: ((mainPortfolio summary) at: 1) equals: 'Extraccion por 50 * pesos'.	
	self assert: ((mainPortfolio summary) at: 2) equals: 'Balance = -50 * pesos'.
	self assert: ((mainPortfolio summary) at: 3) equals: 'Balance total = -50 * pesos'.	
	self assert: ((mainPortfolio summary) at: 4) equals: 'Balance total = -50 * pesos'.	! !

!testRun: #TestXXX #test10 stamp: 'MG 12/5/2021 15:36:51'!
PASSED!

!testRun: #TestXXX #test01UnaCuentaVaciaTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 15:36:51'!
PASSED!

!testRun: #TestXXX #test02UnaCuentaConUnDepositoDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:36:51'!
PASSED!

!testRun: #TestXXX #test03UnaCuentaConUnaExtraccionDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:36:51'!
PASSED!

!testRun: #TestXXX #test04LaCuentaOrigenDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:36:51'!
PASSED!

!testRun: #TestXXX #test05LaCuentaDestinoDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:36:51'!
PASSED!

!testRun: #TestXXX #test06UnPortfolioSinCuentasTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 15:36:51'!
PASSED!

!testRun: #TestXXX #test07UnPorfolioConUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 15:36:51'!
PASSED!

!testRun: #TestXXX #test08UnPorfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 15:36:51'!
PASSED!

!testRun: #TestXXX #test09 stamp: 'MG 12/5/2021 15:36:51'!
PASSED!

!testRun: #TestXXX #test10 stamp: 'MG 12/5/2021 15:36:51'!
PASSED!

!testRun: #TestXXX #test10 stamp: 'MG 12/5/2021 15:36:56'!
PASSED!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:37:53' prior: 50336589!
              test10

	|aPortfolioAccount aReceptiveAccount |
	
	aReceptiveAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: aReceptiveAccount.
	
	aPortfolioAccount := Portfolio new.
	aPortfolioAccount add: aReceptiveAccount.
	
	mainPortfolio add: aPortfolioAccount.
	
	self assert: ((mainPortfolio summary) at: 1) equals: 'Extraccion por 50 * pesos'.	
	self assert: ((mainPortfolio summary) at: 2) equals: 'Balance = -50 * pesos'.
	self assert: ((mainPortfolio summary) at: 3) equals: 'Balance = -50 * pesos'.	
	self assert: ((mainPortfolio summary) at: 4) equals: 'Balance = -50 * pesos'.	! !
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/5/2021 15:37:55' prior: 50336195 overrides: 50334733!
                              summary
	
	| summary |

	summary := OrderedCollection new.

	(accounts isEmpty) ifTrue:[
		summary add: 'Balance = 0 pesos'.
		^summary.
	].
		
	accounts do:[: anAccount |
		(anAccount transactions isEmpty) ifFalse:[
			(anAccount summary) do:[: aSummaryReport |
				summary add: aSummaryReport.
			].
		].
	].
	
	summary add: 'Balance = ', (self balance) asString.
	
	^summary.	! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:38:10' prior: 50336559!
      test09

	|aReceptiveAccount |
	
	aReceptiveAccount := ReceptiveAccount  new.
	
	mainPortfolio add: aReceptiveAccount.
	
	self assert: (mainPortfolio summary at: 1) equals: 'Balance = 0 * pesos'.! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:38:19' prior: 50336530!
                               test08UnPorfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto

	|aReceptiveAccount aSecondReceptiveAccount |
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
	
	aSecondReceptiveAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: aSecondReceptiveAccount.
	
	mainPortfolio add: aReceptiveAccount.
	mainPortfolio add: aSecondReceptiveAccount.
	
	self assert: 'Deposito por 100 * pesos' equals: ((mainPortfolio summary) at: 1).
	self assert: 'Balance = 100 * pesos' equals:  ((mainPortfolio summary) at: 2).
	self assert: 'Extraccion por 50 * pesos' equals: ((mainPortfolio summary) at: 3).	
	self assert: 'Balance = -50 * pesos' equals:  ((mainPortfolio summary) at: 4).
	self assert: 'Balance = 50 * pesos' equals:  ((mainPortfolio summary) at: 5).! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:38:24' prior: 50336444!
                       test07UnPorfolioConUnaCuentaDevuelveUnSumarioCorrecto

	|aReceptiveAccount |
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
	
	mainPortfolio add: aReceptiveAccount.
	
	self assert: ((mainPortfolio summary) at: 1) equals: 'Deposito por 100 * pesos'.	
	self assert: ((mainPortfolio summary) at: 2) equals: 'Balance = 100 * pesos'.
	self assert: ((mainPortfolio summary) at: 3) equals: 'Balance = 100 * pesos'.! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:38:29' prior: 50336400!
                     test06UnPortfolioSinCuentasTieneUnSumarioCorrecto
		
	self assert: (mainPortfolio summary at: 1) equals: 'Balance = 0 pesos'.! !

!testRun: #TestXXX #test01UnaCuentaVaciaTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 15:38:49'!
PASSED!

!testRun: #TestXXX #test02UnaCuentaConUnDepositoDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:38:49'!
PASSED!

!testRun: #TestXXX #test03UnaCuentaConUnaExtraccionDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:38:49'!
PASSED!

!testRun: #TestXXX #test04LaCuentaOrigenDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:38:49'!
PASSED!

!testRun: #TestXXX #test05LaCuentaDestinoDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:38:49'!
PASSED!

!testRun: #TestXXX #test06UnPortfolioSinCuentasTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 15:38:49'!
PASSED!

!testRun: #TestXXX #test07UnPorfolioConUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 15:38:49'!
PASSED!

!testRun: #TestXXX #test08UnPorfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 15:38:49'!
PASSED!

!testRun: #TestXXX #test09 stamp: 'MG 12/5/2021 15:38:49'!
PASSED!

!testRun: #TestXXX #test10 stamp: 'MG 12/5/2021 15:38:49'!
PASSED!

!testRun: #TestXXX #test10 stamp: 'MG 12/5/2021 15:39:22'!
PASSED!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:40:56' prior: 50336649!
                    test10

	|aPortfolioAccount aReceptiveAccount aSecondReceptiveAccount |
	
	aReceptiveAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: aReceptiveAccount.
	
	aPortfolioAccount := Portfolio new.
	aPortfolioAccount add: aReceptiveAccount.
	
	aSecondReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aSecondReceptiveAccount.
	
	mainPortfolio add: aPortfolioAccount.
	mainPortfolio add: aSecondReceptiveAccount.
	
	self assert: ((mainPortfolio summary) at: 1) equals: 'Extraccion por 50 * pesos'.	
	self assert: ((mainPortfolio summary) at: 2) equals: 'Balance = -50 * pesos'.
	self assert: ((mainPortfolio summary) at: 3) equals: 'Balance = -50 * pesos'.	
	
	self assert: ((mainPortfolio summary) at: 5) equals: 'Balance = 100 * pesos'.	
	self assert: ((mainPortfolio summary) at: 6) equals: 'Balance = 50 * pesos'.	! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:42:06' prior: 50336787!
        test10

	|aPortfolioAccount aReceptiveAccount aSecondReceptiveAccount |
	
	aReceptiveAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: aReceptiveAccount.
	
	aPortfolioAccount := Portfolio new.
	aPortfolioAccount add: aReceptiveAccount.
	
	aSecondReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aSecondReceptiveAccount.
	
	mainPortfolio add: aPortfolioAccount.
	mainPortfolio add: aSecondReceptiveAccount.
	
	self assert: ((mainPortfolio summary) at: 1) equals: 'Extraccion por 50 * pesos'.	
	self assert: ((mainPortfolio summary) at: 2) equals: 'Balance = -50 * pesos'.
	self assert: ((mainPortfolio summary) at: 3) equals: 'Balance = -50 * pesos'.	
	self assert: ((mainPortfolio summary) at: 3) equals: 'Deposito por 100 * pesos'.	
	self assert: ((mainPortfolio summary) at: 5) equals: 'Balance = 100 * pesos'.	
	self assert: ((mainPortfolio summary) at: 6) equals: 'Balance = 50 * pesos'.	! !
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:42:55' prior: 50336817!
                       test10

	|aPortfolioAccount aReceptiveAccount aSecondReceptiveAccount |
	
	aReceptiveAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: aReceptiveAccount.
	
	aPortfolioAccount := Portfolio new.
	aPortfolioAccount add: aReceptiveAccount.
	
	aSecondReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aSecondReceptiveAccount.
	
	mainPortfolio add: aPortfolioAccount.
	mainPortfolio add: aSecondReceptiveAccount.
	
	self assert: ((mainPortfolio summary) at: 1) equals: 'Extraccion por 50 * pesos'.	
	self assert: ((mainPortfolio summary) at: 2) equals: 'Balance = -50 * pesos'.
	self assert: ((mainPortfolio summary) at: 3) equals: 'Balance = -50 * pesos'.	
	self assert: ((mainPortfolio summary) at: 4) equals: 'Deposito por 100 * pesos'.	
	self assert: ((mainPortfolio summary) at: 5) equals: 'Balance = 100 * pesos'.	
	self assert: ((mainPortfolio summary) at: 6) equals: 'Balance = 50 * pesos'.	! !

!testRun: #TestXXX #test10 stamp: 'MG 12/5/2021 15:42:56'!
PASSED!

!testRun: #TestXXX #test01UnaCuentaVaciaTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 15:42:56'!
PASSED!

!testRun: #TestXXX #test02UnaCuentaConUnDepositoDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:42:56'!
PASSED!

!testRun: #TestXXX #test03UnaCuentaConUnaExtraccionDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:42:56'!
PASSED!

!testRun: #TestXXX #test04LaCuentaOrigenDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:42:56'!
PASSED!

!testRun: #TestXXX #test05LaCuentaDestinoDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:42:56'!
PASSED!

!testRun: #TestXXX #test06UnPortfolioSinCuentasTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 15:42:56'!
PASSED!

!testRun: #TestXXX #test07UnPorfolioConUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 15:42:56'!
PASSED!

!testRun: #TestXXX #test08UnPorfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 15:42:56'!
PASSED!

!testRun: #TestXXX #test09 stamp: 'MG 12/5/2021 15:42:56'!
PASSED!

!testRun: #TestXXX #test10 stamp: 'MG 12/5/2021 15:42:56'!
PASSED!

!testRun: #TestXXX #test10 stamp: 'MG 12/5/2021 15:42:59'!
PASSED!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:37:53' prior: 50336850!
   test10

	|aPortfolioAccount aReceptiveAccount |
	
	aReceptiveAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: aReceptiveAccount.
	
	aPortfolioAccount := Portfolio new.
	aPortfolioAccount add: aReceptiveAccount.
	
	mainPortfolio add: aPortfolioAccount.
	
	self assert: ((mainPortfolio summary) at: 1) equals: 'Extraccion por 50 * pesos'.	
	self assert: ((mainPortfolio summary) at: 2) equals: 'Balance = -50 * pesos'.
	self assert: ((mainPortfolio summary) at: 3) equals: 'Balance = -50 * pesos'.	
	self assert: ((mainPortfolio summary) at: 4) equals: 'Balance = -50 * pesos'.	! !

!testRun: #TestXXX #test10 stamp: 'MG 12/5/2021 15:44:15'!
PASSED!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:44:59'!
                          test11

	|aPortfolioAccount |
	
	aPortfolioAccount := Portfolio new.
	
	mainPortfolio add: aPortfolioAccount.

	self assert: ((mainPortfolio summary) at: 4) equals: 'Balance = 0 * pesos'.	! !

!testRun: #TestXXX #test11 stamp: 'MG 12/5/2021 15:45:02'!
ERROR!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:45:12' prior: 50336944!
  test11

	|aPortfolioAccount |
	
	aPortfolioAccount := Portfolio new.
	
	mainPortfolio add: aPortfolioAccount.

	self assert: ((mainPortfolio summary) at: 1) equals: 'Balance = 0 * pesos'.	! !

!testRun: #TestXXX #test11 stamp: 'MG 12/5/2021 15:45:14'!
FAILURE!

!testRun: #TestXXX #test01UnaCuentaVaciaTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 15:45:46'!
PASSED!

!testRun: #TestXXX #test02UnaCuentaConUnDepositoDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:45:46'!
PASSED!

!testRun: #TestXXX #test03UnaCuentaConUnaExtraccionDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:45:46'!
PASSED!

!testRun: #TestXXX #test04LaCuentaOrigenDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:45:46'!
PASSED!

!testRun: #TestXXX #test05LaCuentaDestinoDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 15:45:46'!
PASSED!

!testRun: #TestXXX #test06UnPortfolioSinCuentasTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 15:45:46'!
PASSED!

!testRun: #TestXXX #test07UnPorfolioConUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 15:45:46'!
PASSED!

!testRun: #TestXXX #test08UnPorfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 15:45:46'!
PASSED!

!testRun: #TestXXX #test09 stamp: 'MG 12/5/2021 15:45:46'!
PASSED!

!testRun: #TestXXX #test10 stamp: 'MG 12/5/2021 15:45:46'!
PASSED!

!testRun: #TestXXX #test11 stamp: 'MG 12/5/2021 15:45:46'!
FAILURE!

!testRun: #TestXXX #test11 stamp: 'MG 12/5/2021 15:45:46'!
FAILURE!
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/5/2021 15:46:15' prior: 50334571 overrides: 50333942!
                          balance
	
	^accounts sum: [ :anAccount | anAccount balance ] ifEmpty: [ 0 * peso]! !

!testRun: #TestXXX #test11 stamp: 'MG 12/5/2021 15:46:20'!
PASSED!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:54:38'!
                            test09UnPortfolioConUnaCuentaVaciaDevuelveElSumarioCorrecto

	|aReceptiveAccount |
	
	aReceptiveAccount := ReceptiveAccount  new.
	
	mainPortfolio add: aReceptiveAccount.
	
	self assert: (mainPortfolio summary at: 1) equals: 'Balance = 0 * pesos'.! !

!methodRemoval: TestXXX #test09 stamp: 'MG 12/5/2021 15:54:38'!
test09

	|aReceptiveAccount |
	
	aReceptiveAccount := ReceptiveAccount  new.
	
	mainPortfolio add: aReceptiveAccount.
	
	self assert: (mainPortfolio summary at: 1) equals: 'Balance = 0 * pesos'.!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:56:22'!
                     test10UnPortfolioConUnPortfolioConUnaCuentaDevuelveElSumarioCorrecto

	|aPortfolioAccount aReceptiveAccount |
	
	aReceptiveAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: aReceptiveAccount.
	
	aPortfolioAccount := Portfolio new.
	aPortfolioAccount add: aReceptiveAccount.
	
	mainPortfolio add: aPortfolioAccount.
	
	self assert: ((mainPortfolio summary) at: 1) equals: 'Extraccion por 50 * pesos'.	
	self assert: ((mainPortfolio summary) at: 2) equals: 'Balance = -50 * pesos'.
	self assert: ((mainPortfolio summary) at: 3) equals: 'Balance = -50 * pesos'.	
	self assert: ((mainPortfolio summary) at: 4) equals: 'Balance = -50 * pesos'.	! !

!methodRemoval: TestXXX #test10 stamp: 'MG 12/5/2021 15:56:22'!
test10

	|aPortfolioAccount aReceptiveAccount |
	
	aReceptiveAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: aReceptiveAccount.
	
	aPortfolioAccount := Portfolio new.
	aPortfolioAccount add: aReceptiveAccount.
	
	mainPortfolio add: aPortfolioAccount.
	
	self assert: ((mainPortfolio summary) at: 1) equals: 'Extraccion por 50 * pesos'.	
	self assert: ((mainPortfolio summary) at: 2) equals: 'Balance = -50 * pesos'.
	self assert: ((mainPortfolio summary) at: 3) equals: 'Balance = -50 * pesos'.	
	self assert: ((mainPortfolio summary) at: 4) equals: 'Balance = -50 * pesos'.	!
!TestXXX methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 15:57:06'!
          test11UnPortfolioConUnPorfolioVacioDevuelveElSumarioCorrecto

	|aPortfolioAccount |
	
	aPortfolioAccount := Portfolio new.
	
	mainPortfolio add: aPortfolioAccount.

	self assert: ((mainPortfolio summary) at: 1) equals: 'Balance = 0 * pesos'.	! !

!methodRemoval: TestXXX #test11 stamp: 'MG 12/5/2021 15:57:06'!
test11

	|aPortfolioAccount |
	
	aPortfolioAccount := Portfolio new.
	
	mainPortfolio add: aPortfolioAccount.

	self assert: ((mainPortfolio summary) at: 1) equals: 'Balance = 0 * pesos'.	!
!TestXXX methodsFor: 'test - Portfolio' stamp: 'MG 12/5/2021 15:59:06'!
   test07UnPortfolioConUnaCuentaDevuelveUnSumarioCorrecto

	|aReceptiveAccount |
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
	
	mainPortfolio add: aReceptiveAccount.
	
	self assert: ((mainPortfolio summary) at: 1) equals: 'Deposito por 100 * pesos'.	
	self assert: ((mainPortfolio summary) at: 2) equals: 'Balance = 100 * pesos'.
	self assert: ((mainPortfolio summary) at: 3) equals: 'Balance = 100 * pesos'.! !

!methodRemoval: TestXXX #test07UnPorfolioConUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 15:59:06'!
test07UnPorfolioConUnaCuentaDevuelveUnSumarioCorrecto

	|aReceptiveAccount |
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
	
	mainPortfolio add: aReceptiveAccount.
	
	self assert: ((mainPortfolio summary) at: 1) equals: 'Deposito por 100 * pesos'.	
	self assert: ((mainPortfolio summary) at: 2) equals: 'Balance = 100 * pesos'.
	self assert: ((mainPortfolio summary) at: 3) equals: 'Balance = 100 * pesos'.!

!testRun: #TestXXX #test08UnPorfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 15:59:07'!
PASSED!
!TestXXX methodsFor: 'test - Portfolio' stamp: 'MG 12/5/2021 15:59:13'!
                 test08UnPortfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto

	|aReceptiveAccount aSecondReceptiveAccount |
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
	
	aSecondReceptiveAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: aSecondReceptiveAccount.
	
	mainPortfolio add: aReceptiveAccount.
	mainPortfolio add: aSecondReceptiveAccount.
	
	self assert: 'Deposito por 100 * pesos' equals: ((mainPortfolio summary) at: 1).
	self assert: 'Balance = 100 * pesos' equals:  ((mainPortfolio summary) at: 2).
	self assert: 'Extraccion por 50 * pesos' equals: ((mainPortfolio summary) at: 3).	
	self assert: 'Balance = -50 * pesos' equals:  ((mainPortfolio summary) at: 4).
	self assert: 'Balance = 50 * pesos' equals:  ((mainPortfolio summary) at: 5).! !

!methodRemoval: TestXXX #test08UnPorfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 15:59:13'!
test08UnPorfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto

	|aReceptiveAccount aSecondReceptiveAccount |
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
	
	aSecondReceptiveAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: aSecondReceptiveAccount.
	
	mainPortfolio add: aReceptiveAccount.
	mainPortfolio add: aSecondReceptiveAccount.
	
	self assert: 'Deposito por 100 * pesos' equals: ((mainPortfolio summary) at: 1).
	self assert: 'Balance = 100 * pesos' equals:  ((mainPortfolio summary) at: 2).
	self assert: 'Extraccion por 50 * pesos' equals: ((mainPortfolio summary) at: 3).	
	self assert: 'Balance = -50 * pesos' equals:  ((mainPortfolio summary) at: 4).
	self assert: 'Balance = 50 * pesos' equals:  ((mainPortfolio summary) at: 5).!
!TestXXX methodsFor: 'test - Portfolio' stamp: 'MG 12/5/2021 16:02:35'!
        test11UnPortfolioConUnPortfolioVacioDevuelveElSumarioCorrecto

	|aPortfolioAccount |
	
	aPortfolioAccount := Portfolio new.
	
	mainPortfolio add: aPortfolioAccount.

	self assert: ((mainPortfolio summary) at: 1) equals: 'Balance = 0 * pesos'.	! !

!methodRemoval: TestXXX #test11UnPortfolioConUnPorfolioVacioDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:02:35'!
test11UnPortfolioConUnPorfolioVacioDevuelveElSumarioCorrecto

	|aPortfolioAccount |
	
	aPortfolioAccount := Portfolio new.
	
	mainPortfolio add: aPortfolioAccount.

	self assert: ((mainPortfolio summary) at: 1) equals: 'Balance = 0 * pesos'.	!
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/5/2021 16:10:20' prior: 50336018 overrides: 50334733!
            summary

	|summary|
	
	summary := OrderedCollection new.
	
	(self transactions isEmpty) ifTrue: [
		summary add: 'Balance = 0 pesos'.
		^summary.
	].
	
	self transactions do: [: aTransaction | 
		(aTransaction isKindOf: Deposit) ifTrue:[ summary add: 'Deposito por ', (aTransaction value) asString].
		(aTransaction isKindOf: Withdraw ) ifTrue:[ summary add: 	'Extraccion por ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferWithdrawLeg ) ifTrue:[ summary add:  'Salida por transferencia de ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferDepositLeg ) ifTrue:[ summary add:  'Entrada por transferencia de ', (aTransaction value) asString].

		].
	summary add: 'Balance = ', (self balance) asString.
	^summary 
! !

!testRun: #TestXXX #test01UnaCuentaVaciaTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 16:10:23'!
PASSED!

!testRun: #TestXXX #test02UnaCuentaConUnDepositoDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:10:23'!
PASSED!

!testRun: #TestXXX #test03UnaCuentaConUnaExtraccionDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:10:23'!
PASSED!

!testRun: #TestXXX #test04LaCuentaOrigenDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:10:23'!
PASSED!

!testRun: #TestXXX #test05LaCuentaDestinoDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:10:23'!
PASSED!

!testRun: #TestXXX #test06UnPortfolioSinCuentasTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 16:10:23'!
PASSED!

!testRun: #TestXXX #test07UnPortfolioConUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 16:10:23'!
PASSED!

!testRun: #TestXXX #test08UnPortfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 16:10:23'!
PASSED!

!testRun: #TestXXX #test09UnPortfolioConUnaCuentaVaciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:10:23'!
PASSED!

!testRun: #TestXXX #test10UnPortfolioConUnPortfolioConUnaCuentaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:10:23'!
PASSED!

!testRun: #TestXXX #test11UnPortfolioConUnPortfolioVacioDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:10:23'!
PASSED!

Object subclass: #emitSummary
	instanceVariableNames: 'account summary'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!

Object subclass: #emitSummary
	instanceVariableNames: 'account summary'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!

Object subclass: #EmitSummary
	instanceVariableNames: 'account summary'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!

!classDefinition: #EmitSummary category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 16:10:54'!
Object subclass: #EmitSummary
	instanceVariableNames: 'account summary'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!
!EmitSummary methodsFor: 'no messages' stamp: 'MG 12/5/2021 16:12:54'!
                  initializeWith: anAccount
	account := anAccount.
	summary:= OrderedCollection new.! !
!EmitSummary class methodsFor: 'no messages' stamp: 'MG 12/5/2021 16:14:28'!
                             for: anAccount
	^ self new initializeWith: anAccount.! !
!EmitSummary methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 16:15:09'!
                        compute
	
	(account transactions isEmpty) ifTrue: [
		summary add: 'Balance = 0 pesos'.
		^summary.
	].
	
	account transactions do: [: aTransaction | 
		(aTransaction isKindOf: Deposit) ifTrue:[ summary add: 'Deposito por ', (aTransaction value) asString].
		(aTransaction isKindOf: Withdraw ) ifTrue:[ summary add: 	'Extraccion por ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferWithdrawLeg ) ifTrue:[ summary add:  'Salida por transferencia de ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferDepositLeg ) ifTrue:[ summary add:  'Entrada por transferencia de ', (aTransaction value) asString].

		].
	summary add: 'Balance = ', (account balance) asString.
	^summary ! !
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/5/2021 16:16:05' prior: 50337213 overrides: 50334733!
    summary

	|summary|
	
	summary := EmitSummary for: self.
	^summary compute.! !

!testRun: #TestXXX #test01UnaCuentaVaciaTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 16:16:09'!
PASSED!

!testRun: #TestXXX #test02UnaCuentaConUnDepositoDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:16:09'!
PASSED!

!testRun: #TestXXX #test03UnaCuentaConUnaExtraccionDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:16:09'!
PASSED!

!testRun: #TestXXX #test04LaCuentaOrigenDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:16:09'!
PASSED!

!testRun: #TestXXX #test05LaCuentaDestinoDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:16:09'!
PASSED!

!testRun: #TestXXX #test06UnPortfolioSinCuentasTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 16:16:09'!
PASSED!

!testRun: #TestXXX #test07UnPortfolioConUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 16:16:09'!
PASSED!

!testRun: #TestXXX #test08UnPortfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 16:16:09'!
PASSED!

!testRun: #TestXXX #test09UnPortfolioConUnaCuentaVaciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:16:09'!
PASSED!

!testRun: #TestXXX #test10UnPortfolioConUnPortfolioConUnaCuentaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:16:09'!
PASSED!

!testRun: #TestXXX #test11UnPortfolioConUnPortfolioVacioDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:16:09'!
PASSED!

!testRun: #TestXXX #test01UnaCuentaVaciaTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 16:16:13'!
PASSED!

!testRun: #TestXXX #test02UnaCuentaConUnDepositoDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:16:13'!
PASSED!

!testRun: #TestXXX #test03UnaCuentaConUnaExtraccionDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:16:13'!
PASSED!

!testRun: #TestXXX #test04LaCuentaOrigenDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:16:13'!
PASSED!

!testRun: #TestXXX #test05LaCuentaDestinoDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:16:13'!
PASSED!

!testRun: #TestXXX #test06UnPortfolioSinCuentasTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 16:16:13'!
PASSED!

!testRun: #TestXXX #test07UnPortfolioConUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 16:16:13'!
PASSED!

!testRun: #TestXXX #test08UnPortfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 16:16:13'!
PASSED!

!testRun: #TestXXX #test09UnPortfolioConUnaCuentaVaciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:16:13'!
PASSED!

!testRun: #TestXXX #test10UnPortfolioConUnPortfolioConUnaCuentaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:16:13'!
PASSED!

!testRun: #TestXXX #test11UnPortfolioConUnPortfolioVacioDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:16:13'!
PASSED!
!EmitSummary class methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 16:17:40' prior: 50337311!
                    for: anAccount
	| summary |
	summary := self new initializeWith: anAccount.
	^summary compute.! !
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/5/2021 16:17:51' prior: 50337342 overrides: 50334733!
            summary

	^ EmitSummary for: self.! !

!testRun: #TestXXX #test01UnaCuentaVaciaTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 16:18:13'!
PASSED!

!testRun: #TestXXX #test02UnaCuentaConUnDepositoDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:18:13'!
PASSED!

!testRun: #TestXXX #test03UnaCuentaConUnaExtraccionDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:18:13'!
PASSED!

!testRun: #TestXXX #test04LaCuentaOrigenDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:18:13'!
PASSED!

!testRun: #TestXXX #test05LaCuentaDestinoDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:18:13'!
PASSED!

!testRun: #TestXXX #test06UnPortfolioSinCuentasTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 16:18:13'!
PASSED!

!testRun: #TestXXX #test07UnPortfolioConUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 16:18:13'!
PASSED!

!testRun: #TestXXX #test08UnPortfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 16:18:13'!
PASSED!

!testRun: #TestXXX #test09UnPortfolioConUnaCuentaVaciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:18:13'!
PASSED!

!testRun: #TestXXX #test10UnPortfolioConUnPortfolioConUnaCuentaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:18:13'!
PASSED!

!testRun: #TestXXX #test11UnPortfolioConUnPortfolioVacioDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:18:13'!
PASSED!
!EmitSummary class methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 16:19:26' prior: 50337430!
                         for: anAccount
	^ self new initializeWith: anAccount.! !
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/5/2021 16:19:28' prior: 50337437 overrides: 50334733!
                     summary

	^ (EmitSummary for: self) compute.! !
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/5/2021 16:19:30' prior: 50337489 overrides: 50334733!
                              summary
	^ (EmitSummary for: self) compute.! !

!testRun: #TestXXX #test01UnaCuentaVaciaTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 16:19:33'!
PASSED!

!testRun: #TestXXX #test02UnaCuentaConUnDepositoDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:19:33'!
PASSED!

!testRun: #TestXXX #test03UnaCuentaConUnaExtraccionDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:19:33'!
PASSED!

!testRun: #TestXXX #test04LaCuentaOrigenDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:19:33'!
PASSED!

!testRun: #TestXXX #test05LaCuentaDestinoDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:19:33'!
PASSED!

!testRun: #TestXXX #test06UnPortfolioSinCuentasTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 16:19:33'!
PASSED!

!testRun: #TestXXX #test07UnPortfolioConUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 16:19:33'!
PASSED!

!testRun: #TestXXX #test08UnPortfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 16:19:33'!
PASSED!

!testRun: #TestXXX #test09UnPortfolioConUnaCuentaVaciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:19:33'!
PASSED!

!testRun: #TestXXX #test10UnPortfolioConUnPortfolioConUnaCuentaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:19:33'!
PASSED!

!testRun: #TestXXX #test11UnPortfolioConUnPortfolioVacioDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:19:33'!
PASSED!
!Deposit methodsFor: 'nil' stamp: 'MG 12/5/2021 16:22:56'!
                          xxxx
	^'Deposito por ', (self value) asString! !
!EmitSummary methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 16:23:20' prior: 50337316!
                compute
	
	(account transactions isEmpty) ifTrue: [
		summary add: 'Balance = 0 pesos'.
		^summary.
	].
	
	account transactions do: [: aTransaction | 
		(aTransaction isKindOf: Deposit) ifTrue:[ summary add: aTransaction xxxx].
		(aTransaction isKindOf: Withdraw ) ifTrue:[ summary add: 	'Extraccion por ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferWithdrawLeg ) ifTrue:[ summary add:  'Salida por transferencia de ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferDepositLeg ) ifTrue:[ summary add:  'Entrada por transferencia de ', (aTransaction value) asString].

		].
	summary add: 'Balance = ', (account balance) asString.
	^summary ! !

!testRun: #TestXXX #test01UnaCuentaVaciaTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 16:23:28'!
PASSED!

!testRun: #TestXXX #test02UnaCuentaConUnDepositoDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:23:28'!
PASSED!

!testRun: #TestXXX #test03UnaCuentaConUnaExtraccionDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:23:28'!
PASSED!

!testRun: #TestXXX #test04LaCuentaOrigenDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:23:28'!
PASSED!

!testRun: #TestXXX #test05LaCuentaDestinoDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:23:28'!
PASSED!

!testRun: #TestXXX #test06UnPortfolioSinCuentasTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 16:23:28'!
PASSED!

!testRun: #TestXXX #test07UnPortfolioConUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 16:23:28'!
PASSED!

!testRun: #TestXXX #test08UnPortfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 16:23:28'!
PASSED!

!testRun: #TestXXX #test09UnPortfolioConUnaCuentaVaciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:23:28'!
PASSED!

!testRun: #TestXXX #test10UnPortfolioConUnPortfolioConUnaCuentaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:23:28'!
PASSED!

!testRun: #TestXXX #test11UnPortfolioConUnPortfolioVacioDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:23:28'!
PASSED!
!TransferDepositLeg methodsFor: 'nil' stamp: 'MG 12/5/2021 16:23:55'!
                 xxxx
	^'Entrada por transferencia de ', (self value) asString! !
!EmitSummary methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 16:24:03' prior: 50337545!
compute
	
	(account transactions isEmpty) ifTrue: [
		summary add: 'Balance = 0 pesos'.
		^summary.
	].
	
	account transactions do: [: aTransaction | 
		(aTransaction isKindOf: Deposit) ifTrue:[ summary add: aTransaction xxxx].
		(aTransaction isKindOf: Withdraw ) ifTrue:[ summary add: 	'Extraccion por ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferWithdrawLeg ) ifTrue:[ summary add:  'Salida por transferencia de ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferDepositLeg ) ifTrue:[ summary add:  aTransaction xxxx].

		].
	summary add: 'Balance = ', (account balance) asString.
	^summary ! !
!EmitSummary methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 16:24:39' prior: 50337615!
 compute
	
	(account transactions isEmpty) ifTrue: [
		summary add: 'Balance = 0 pesos'.
		^summary.
	].
	
	account transactions do: [: aTransaction | 
		(aTransaction isKindOf: Deposit) ifTrue:[ summary add: aTransaction xxxx].
		(aTransaction isKindOf: Withdraw ) ifTrue:[ summary add: 	'Extraccion por ', (aTransaction value) asString].
		(aTransaction isKindOf: TransferWithdrawLeg ) ifTrue:[ summary add:  aTransaction xxxx].
		(aTransaction isKindOf: TransferDepositLeg ) ifTrue:[ summary add:  aTransaction xxxx].

		].
	summary add: 'Balance = ', (account balance) asString.
	^summary ! !
!TransferWithdrawLeg methodsFor: 'nil' stamp: 'MG 12/5/2021 16:24:47'!
     xxxx
	^'Salida por transferencia de ', (self value) asString! !
!EmitSummary methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 16:25:04' prior: 50337638!
 compute
	
	(account transactions isEmpty) ifTrue: [
		summary add: 'Balance = 0 pesos'.
		^summary.
	].
	
	account transactions do: [: aTransaction | 
		(aTransaction isKindOf: Deposit) ifTrue:[ summary add: aTransaction xxxx].
		(aTransaction isKindOf: Withdraw ) ifTrue:[ summary add: 	aTransaction xxxx].
		(aTransaction isKindOf: TransferWithdrawLeg ) ifTrue:[ summary add:  aTransaction xxxx].
		(aTransaction isKindOf: TransferDepositLeg ) ifTrue:[ summary add:  aTransaction xxxx].

		].
	summary add: 'Balance = ', (account balance) asString.
	^summary ! !
!Withdraw methodsFor: 'nil' stamp: 'MG 12/5/2021 16:25:06'!
               xxxx
	^'Extraccion por ', (self value) asString! !

!testRun: #TestXXX #test01UnaCuentaVaciaTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 16:25:14'!
PASSED!

!testRun: #TestXXX #test02UnaCuentaConUnDepositoDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:25:14'!
PASSED!

!testRun: #TestXXX #test03UnaCuentaConUnaExtraccionDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:25:14'!
PASSED!

!testRun: #TestXXX #test04LaCuentaOrigenDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:25:14'!
PASSED!

!testRun: #TestXXX #test05LaCuentaDestinoDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:25:14'!
PASSED!

!testRun: #TestXXX #test06UnPortfolioSinCuentasTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 16:25:14'!
PASSED!

!testRun: #TestXXX #test07UnPortfolioConUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 16:25:14'!
PASSED!

!testRun: #TestXXX #test08UnPortfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 16:25:14'!
PASSED!

!testRun: #TestXXX #test09UnPortfolioConUnaCuentaVaciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:25:14'!
PASSED!

!testRun: #TestXXX #test10UnPortfolioConUnPortfolioConUnaCuentaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:25:14'!
PASSED!

!testRun: #TestXXX #test11UnPortfolioConUnPortfolioVacioDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:25:14'!
PASSED!
!EmitSummary methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 16:25:30' prior: 50337664!
                  compute
	
	(account transactions isEmpty) ifTrue: [
		summary add: 'Balance = 0 pesos'.
		^summary.
	].
	
	account transactions do: [: aTransaction | 
		summary add:  aTransaction xxxx.
	].
	summary add: 'Balance = ', (account balance) asString.
	^summary ! !

!testRun: #TestXXX #test01UnaCuentaVaciaTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 16:25:32'!
PASSED!

!testRun: #TestXXX #test02UnaCuentaConUnDepositoDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:25:32'!
PASSED!

!testRun: #TestXXX #test03UnaCuentaConUnaExtraccionDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:25:32'!
PASSED!

!testRun: #TestXXX #test04LaCuentaOrigenDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:25:32'!
PASSED!

!testRun: #TestXXX #test05LaCuentaDestinoDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:25:32'!
PASSED!

!testRun: #TestXXX #test06UnPortfolioSinCuentasTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 16:25:32'!
PASSED!

!testRun: #TestXXX #test07UnPortfolioConUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 16:25:32'!
PASSED!

!testRun: #TestXXX #test08UnPortfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 16:25:32'!
PASSED!

!testRun: #TestXXX #test09UnPortfolioConUnaCuentaVaciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:25:32'!
PASSED!

!testRun: #TestXXX #test10UnPortfolioConUnPortfolioConUnaCuentaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:25:32'!
PASSED!

!testRun: #TestXXX #test11UnPortfolioConUnPortfolioVacioDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:25:32'!
PASSED!
!AccountTransaction methodsFor: 'nil' stamp: 'MG 12/5/2021 16:27:09'!
                          xxxx
	self subclassResponsibility.! !
!TransferLeg methodsFor: 'nil' stamp: 'MG 12/5/2021 16:28:41' overrides: 50337782!
       xxxx
	self subclassResponsibility.! !
!AccountTransaction methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 16:29:39'!
    summaryMessage
	self subclassResponsibility.! !
!Deposit methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 16:29:39' overrides: 50337790!
                 summaryMessage
	^'Deposito por ', (self value) asString! !
!TransferLeg methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 16:29:39' overrides: 50337790!
  summaryMessage
	self subclassResponsibility.! !
!TransferDepositLeg methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 16:29:39' overrides: 50337800!
      summaryMessage
	^'Entrada por transferencia de ', (self value) asString! !
!TransferWithdrawLeg methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 16:29:39' overrides: 50337800!
          summaryMessage
	^'Salida por transferencia de ', (self value) asString! !
!Withdraw methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 16:29:39' overrides: 50337790!
                      summaryMessage
	^'Extraccion por ', (self value) asString! !
!EmitSummary methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 16:29:39' prior: 50337730!
    compute
	
	(account transactions isEmpty) ifTrue: [
		summary add: 'Balance = 0 pesos'.
		^summary.
	].
	
	account transactions do: [: aTransaction | 
		summary add:  aTransaction summaryMessage.
	].
	summary add: 'Balance = ', (account balance) asString.
	^summary ! !

!methodRemoval: AccountTransaction #xxxx stamp: 'MG 12/5/2021 16:29:39'!
xxxx
	self subclassResponsibility.!

!methodRemoval: Deposit #xxxx stamp: 'MG 12/5/2021 16:29:39'!
xxxx
	^'Deposito por ', (self value) asString!

!methodRemoval: TransferLeg #xxxx stamp: 'MG 12/5/2021 16:29:39'!
xxxx
	self subclassResponsibility.!

!methodRemoval: TransferDepositLeg #xxxx stamp: 'MG 12/5/2021 16:29:39'!
xxxx
	^'Entrada por transferencia de ', (self value) asString!

!methodRemoval: TransferWithdrawLeg #xxxx stamp: 'MG 12/5/2021 16:29:39'!
xxxx
	^'Salida por transferencia de ', (self value) asString!

!methodRemoval: Withdraw #xxxx stamp: 'MG 12/5/2021 16:29:39'!
xxxx
	^'Extraccion por ', (self value) asString!

!testRun: #TestXXX #test01UnaCuentaVaciaTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 16:29:50'!
PASSED!

!testRun: #TestXXX #test02UnaCuentaConUnDepositoDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:29:50'!
PASSED!

!testRun: #TestXXX #test03UnaCuentaConUnaExtraccionDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:29:50'!
PASSED!

!testRun: #TestXXX #test04LaCuentaOrigenDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:29:50'!
PASSED!

!testRun: #TestXXX #test05LaCuentaDestinoDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:29:50'!
PASSED!

!testRun: #TestXXX #test06UnPortfolioSinCuentasTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 16:29:50'!
PASSED!

!testRun: #TestXXX #test07UnPortfolioConUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 16:29:50'!
PASSED!

!testRun: #TestXXX #test08UnPortfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 16:29:50'!
PASSED!

!testRun: #TestXXX #test09UnPortfolioConUnaCuentaVaciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:29:50'!
PASSED!

!testRun: #TestXXX #test10UnPortfolioConUnPortfolioConUnaCuentaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:29:50'!
PASSED!

!testRun: #TestXXX #test11UnPortfolioConUnPortfolioVacioDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:29:50'!
PASSED!

!classRenamed: #TestXXX as: #SummaryTest stamp: 'MG 12/5/2021 16:30:05'!
Smalltalk renameClassNamed: #TestXXX as: #SummaryTest!
!EmitSummary methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 16:32:16' prior: 50337822!
                compute
	
	(account isKindOf: ReceptiveAccount) ifTrue:[
		(account transactions isEmpty) ifTrue: [
			summary add: 'Balance = 0 pesos'.
			^summary.
		].
		account transactions do: [: aTransaction | 
			summary add:  aTransaction summaryMessage.
		].
	].
	(account isKindOf: Portfolio ) ifTrue:[
	
	].
	
	summary add: 'Balance = ', (account balance) asString.
	^summary ! !

!testRun: #SummaryTest #test01UnaCuentaVaciaTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 16:32:22'!
PASSED!

!testRun: #SummaryTest #test02UnaCuentaConUnDepositoDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:32:22'!
PASSED!

!testRun: #SummaryTest #test03UnaCuentaConUnaExtraccionDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:32:22'!
PASSED!

!testRun: #SummaryTest #test04LaCuentaOrigenDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:32:22'!
PASSED!

!testRun: #SummaryTest #test05LaCuentaDestinoDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:32:22'!
PASSED!

!testRun: #SummaryTest #test06UnPortfolioSinCuentasTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 16:32:22'!
PASSED!

!testRun: #SummaryTest #test07UnPortfolioConUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 16:32:22'!
PASSED!

!testRun: #SummaryTest #test08UnPortfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 16:32:22'!
PASSED!

!testRun: #SummaryTest #test09UnPortfolioConUnaCuentaVaciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:32:22'!
PASSED!

!testRun: #SummaryTest #test10UnPortfolioConUnPortfolioConUnaCuentaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:32:22'!
PASSED!

!testRun: #SummaryTest #test11UnPortfolioConUnPortfolioVacioDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:32:22'!
PASSED!
!EmitSummary methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 16:37:30' prior: 50337901!
  compute
	
	(account isKindOf: ReceptiveAccount) ifTrue:[
		(account transactions isEmpty) ifTrue: [
			summary add: 'Balance = 0 pesos'.
			^summary.
		].
		account transactions do: [: aTransaction | 
			summary add:  aTransaction summaryMessage.
		].
	].
	(account isKindOf: Portfolio ) ifTrue:[
		
	].
	
	summary add: 'Balance = ', (account balance) asString.
	^summary ! !
!EmitSummary methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 16:39:01' prior: 50337958!
         compute
	
	(account transactions isEmpty) ifTrue: [
		summary add: 'Balance = 0 pesos'.
		^summary.
	].
		account transactions do: [: aTransaction | 
		summary add:  aTransaction summaryMessage.
	].
	summary add: 'Balance = ', (account balance) asString.
	^summary ! !
!Portfolio methodsFor: 'main protocol' stamp: 'MG 12/5/2021 16:39:23' prior: 50336672 overrides: 50334733!
        summary
	
	^(EmitSummary for: self) compute.! !

!testRun: #SummaryTest #test01UnaCuentaVaciaTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 16:39:39'!
PASSED!

!testRun: #SummaryTest #test02UnaCuentaConUnDepositoDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:39:39'!
PASSED!

!testRun: #SummaryTest #test03UnaCuentaConUnaExtraccionDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:39:39'!
PASSED!

!testRun: #SummaryTest #test04LaCuentaOrigenDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:39:39'!
PASSED!

!testRun: #SummaryTest #test05LaCuentaDestinoDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:39:39'!
PASSED!

!testRun: #SummaryTest #test06UnPortfolioSinCuentasTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 16:39:39'!
PASSED!

!testRun: #SummaryTest #test07UnPortfolioConUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 16:39:39'!
ERROR!

!testRun: #SummaryTest #test08UnPortfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 16:39:39'!
FAILURE!

!testRun: #SummaryTest #test09UnPortfolioConUnaCuentaVaciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:39:39'!
FAILURE!

!testRun: #SummaryTest #test10UnPortfolioConUnPortfolioConUnaCuentaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:39:39'!
ERROR!

!testRun: #SummaryTest #test11UnPortfolioConUnPortfolioVacioDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:39:39'!
FAILURE!

!testRun: #SummaryTest #test09UnPortfolioConUnaCuentaVaciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:41:12'!
FAILURE!
!EmitSummary methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 16:41:38' prior: 50337973!
          compute
	
	(account transactions isEmpty) ifTrue: [
		summary add: 'Balance = 0 * pesos'.
		^summary.
	].
		account transactions do: [: aTransaction | 
		summary add:  aTransaction summaryMessage.
	].
	summary add: 'Balance = ', (account balance) asString.
	^summary ! !
!SummaryTest methodsFor: 'test - Receptive Account' stamp: 'MG 12/5/2021 16:41:54' prior: 50336314!
             test01UnaCuentaVaciaTieneUnSumarioCorrecto

	self assert: (mainReceptiveAccount summary at: 1) equals: 'Balance = 0 * pesos'.! !

!testRun: #SummaryTest #test01UnaCuentaVaciaTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 16:42:01'!
PASSED!

!testRun: #SummaryTest #test02UnaCuentaConUnDepositoDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:42:01'!
PASSED!

!testRun: #SummaryTest #test03UnaCuentaConUnaExtraccionDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:42:01'!
PASSED!

!testRun: #SummaryTest #test04LaCuentaOrigenDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:42:01'!
PASSED!

!testRun: #SummaryTest #test05LaCuentaDestinoDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:42:01'!
PASSED!

!testRun: #SummaryTest #test06UnPortfolioSinCuentasTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 16:42:01'!
FAILURE!

!testRun: #SummaryTest #test07UnPortfolioConUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 16:42:01'!
ERROR!

!testRun: #SummaryTest #test08UnPortfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 16:42:01'!
FAILURE!

!testRun: #SummaryTest #test09UnPortfolioConUnaCuentaVaciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:42:01'!
PASSED!

!testRun: #SummaryTest #test10UnPortfolioConUnPortfolioConUnaCuentaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:42:01'!
ERROR!

!testRun: #SummaryTest #test11UnPortfolioConUnPortfolioVacioDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:42:01'!
PASSED!
!SummaryTest methodsFor: 'test - Portfolio' stamp: 'MG 12/5/2021 16:42:11' prior: 50336744!
                           test06UnPortfolioSinCuentasTieneUnSumarioCorrecto
		
	self assert: (mainPortfolio summary at: 1) equals: 'Balance = 0 * pesos'.! !

!testRun: #SummaryTest #test01UnaCuentaVaciaTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 16:42:28'!
PASSED!

!testRun: #SummaryTest #test02UnaCuentaConUnDepositoDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:42:28'!
PASSED!

!testRun: #SummaryTest #test03UnaCuentaConUnaExtraccionDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:42:28'!
PASSED!

!testRun: #SummaryTest #test04LaCuentaOrigenDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:42:28'!
PASSED!

!testRun: #SummaryTest #test05LaCuentaDestinoDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:42:28'!
PASSED!

!testRun: #SummaryTest #test09UnPortfolioConUnaCuentaVaciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:42:28'!
PASSED!

!testRun: #SummaryTest #test11UnPortfolioConUnPortfolioVacioDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:42:28'!
PASSED!

!testRun: #SummaryTest #test07UnPortfolioConUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 16:42:28'!
ERROR!

!testRun: #SummaryTest #test10UnPortfolioConUnPortfolioConUnaCuentaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:42:28'!
ERROR!

!testRun: #SummaryTest #test06UnPortfolioSinCuentasTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 16:42:28'!
PASSED!

!testRun: #SummaryTest #test08UnPortfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 16:42:28'!
FAILURE!
!SummaryTest methodsFor: 'test - Portfolio' stamp: 'MG 12/5/2021 16:44:22' prior: 50337133!
                          test08UnPortfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto

	|aReceptiveAccount aSecondReceptiveAccount |
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
	
	aSecondReceptiveAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: aSecondReceptiveAccount.
	
	mainPortfolio add: aReceptiveAccount.
	mainPortfolio add: aSecondReceptiveAccount.
	
	self assert: 'Deposito por 100 * pesos' equals: ((mainPortfolio summary) at: 1).
	self assert: 'Extraccion por 50 * pesos' equals: ((mainPortfolio summary) at: 3).	
	self assert: 'Balance = 50 * pesos' equals:  ((mainPortfolio summary) at: 5).! !
!SummaryTest methodsFor: 'test - Portfolio' stamp: 'MG 12/5/2021 16:44:27' prior: 50338148!
                     test08UnPortfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto

	|aReceptiveAccount aSecondReceptiveAccount |
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
	
	aSecondReceptiveAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: aSecondReceptiveAccount.
	
	mainPortfolio add: aReceptiveAccount.
	mainPortfolio add: aSecondReceptiveAccount.
	
	self assert: 'Deposito por 100 * pesos' equals: ((mainPortfolio summary) at: 1).
	self assert: 'Extraccion por 50 * pesos' equals: ((mainPortfolio summary) at: 2).	
	self assert: 'Balance = 50 * pesos' equals:  ((mainPortfolio summary) at: 3).! !
!SummaryTest methodsFor: 'test - Portfolio' stamp: 'MG 12/5/2021 16:44:36' prior: 50337094!
                     test07UnPortfolioConUnaCuentaDevuelveUnSumarioCorrecto

	|aReceptiveAccount |
	
	aReceptiveAccount := ReceptiveAccount  new.
	Deposit register: 100* peso  on: aReceptiveAccount.
	
	mainPortfolio add: aReceptiveAccount.
	
	self assert: ((mainPortfolio summary) at: 1) equals: 'Deposito por 100 * pesos'.	
	self assert: ((mainPortfolio summary) at: 2) equals: 'Balance = 100 * pesos'.! !
!SummaryTest methodsFor: 'test - Portfolio' stamp: 'MG 12/5/2021 16:44:42' prior: 50337032!
  test10UnPortfolioConUnPortfolioConUnaCuentaDevuelveElSumarioCorrecto

	|aPortfolioAccount aReceptiveAccount |
	
	aReceptiveAccount := ReceptiveAccount  new.
	Withdraw register: 50* peso  on: aReceptiveAccount.
	
	aPortfolioAccount := Portfolio new.
	aPortfolioAccount add: aReceptiveAccount.
	
	mainPortfolio add: aPortfolioAccount.
	
	self assert: ((mainPortfolio summary) at: 1) equals: 'Extraccion por 50 * pesos'.	
	self assert: ((mainPortfolio summary) at: 2) equals: 'Balance = -50 * pesos'.! !

!testRun: #SummaryTest #test01UnaCuentaVaciaTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 16:44:43'!
PASSED!

!testRun: #SummaryTest #test02UnaCuentaConUnDepositoDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:44:43'!
PASSED!

!testRun: #SummaryTest #test03UnaCuentaConUnaExtraccionDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:44:43'!
PASSED!

!testRun: #SummaryTest #test04LaCuentaOrigenDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:44:43'!
PASSED!

!testRun: #SummaryTest #test05LaCuentaDestinoDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:44:43'!
PASSED!

!testRun: #SummaryTest #test09UnPortfolioConUnaCuentaVaciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:44:43'!
PASSED!

!testRun: #SummaryTest #test11UnPortfolioConUnPortfolioVacioDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:44:43'!
PASSED!

!testRun: #SummaryTest #test06UnPortfolioSinCuentasTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 16:44:43'!
PASSED!

!testRun: #SummaryTest #test07UnPortfolioConUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 16:44:43'!
PASSED!

!testRun: #SummaryTest #test10UnPortfolioConUnPortfolioConUnaCuentaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 16:44:43'!
PASSED!

!testRun: #SummaryTest #test08UnPortfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 16:44:43'!
PASSED!

TestCase subclass: #TransferNetTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!

!classDefinition: #TransferNetTest category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 16:49:14'!
TestCase subclass: #TransferNetTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!

!classDefinition: #TransferNetTest category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 16:50:15'!
TestCase subclass: #TransferNetTest
	instanceVariableNames: 'mainReceptiveAccount'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!
!TransferNetTest methodsFor: 'nil' stamp: 'MG 12/5/2021 16:50:14'!
 test01

	self assert: (mainReceptiveAccount summary at: 1) equals: 'Balance = 0 * pesos'.! !

!classDefinition: #TransferNetTest category: 'ServiciosFinancieros-SolucionCatedra' stamp: 'MG 12/5/2021 16:51:03'!
TestCase subclass: #TransferNetTest
	instanceVariableNames: 'mainReceptiveAccount mainPortfolio'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ServiciosFinancieros-SolucionCatedra'!
!TransferNetTest methodsFor: 'nil' stamp: 'MG 12/5/2021 16:51:01' overrides: 16927572!
                     setUp
	mainReceptiveAccount := ReceptiveAccount new.
	mainPortfolio := Portfolio new.! !
!TransferNetTest methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 16:51:23' prior: 50338294!
    test01

	self assert: (mainReceptiveAccount transferNet at: 1) equals: 'Balance = 0 * pesos'.! !
!TransferNetTest methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 16:51:43' prior: 50338316!
                            test01

	self assert: mainReceptiveAccount transferNet equals: 'Balance = 0 * pesos'.! !
!Account methodsFor: 'main protocol' stamp: 'MG 12/5/2021 16:52:00'!
  transferNet
	self subclassResponsibility.! !
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/5/2021 16:52:25' overrides: 50338328!
                 transferNet
	^'Balance = 0 * pesos'.! !

!testRun: #TransferNetTest #test01 stamp: 'MG 12/5/2021 16:52:31'!
PASSED!
!TransferNetTest methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 16:53:42'!
                         test02

	| destinationAccount originAccount |
	
	originAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	
	Transfer amount:  20 * peso from: originAccount to: destinationAccount.
	self assert: (originAccount transferNet) equals: 'Balance = -20 * pesos'.! !
!TransferNetTest methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 16:53:56' prior: 50338340!
                               test02

	| destinationAccount originAccount |
	
	originAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	
	Transfer amount:  20 * peso from: originAccount to: destinationAccount.
	self assert: originAccount transferNet equals: 'Balance = -20 * pesos'.! !
!Deposit methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 16:56:05' prior: 50337795 overrides: 50337790!
                     summaryMessage
	^'Deposito por ', (self value) asString! !
!EmitSummary methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 16:58:38' prior: 50338036!
      compute
	
	(account transactions isEmpty) ifTrue: [
		summary add: 'Balance = 0 * pesos'.
		^summary.
	].
		account transactions do: [: aTransaction | 
		summary add:  aTransaction summaryMessage.
	].
	summary add: 'Balance = ', (account balance) asString.
	^summary ! !
!AccountTransaction methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 17:01:35'!
                           summaryMessageTo: EmitSummary
	self subclassResponsibility.! !

!methodRemoval: AccountTransaction #summaryMessage stamp: 'MG 12/5/2021 17:01:41'!
summaryMessage
	self subclassResponsibility.!
!Deposit methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 17:01:52' overrides: 50338383!
summaryMessageTo: EmitSummary
	^'Deposito por ', (self value) asString! !

!methodRemoval: Deposit #summaryMessage stamp: 'MG 12/5/2021 17:01:58'!
summaryMessage
	^'Deposito por ', (self value) asString!
!TransferLeg methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 17:02:06' overrides: 50338383!
                 summaryMessageTo: EmitSummary
	self subclassResponsibility.! !

!methodRemoval: TransferLeg #summaryMessage stamp: 'MG 12/5/2021 17:02:09'!
summaryMessage
	self subclassResponsibility.!
!TransferDepositLeg methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 17:02:12' overrides: 50338402!
                            summaryMessageTo: EmitSummary
	^'Entrada por transferencia de ', (self value) asString! !

!methodRemoval: TransferDepositLeg #summaryMessage stamp: 'MG 12/5/2021 17:02:14'!
summaryMessage
	^'Entrada por transferencia de ', (self value) asString!
!TransferWithdrawLeg methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 17:02:20' overrides: 50338402!
                              summaryMessageTo: EmitSummary
	^'Salida por transferencia de ', (self value) asString! !

!methodRemoval: TransferWithdrawLeg #summaryMessage stamp: 'MG 12/5/2021 17:02:22'!
summaryMessage
	^'Salida por transferencia de ', (self value) asString!
!Withdraw methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 17:02:38' overrides: 50338383!
          summaryMessageTo: EmitSummary
	^'Extraccion por ', (self value) asString! !

!methodRemoval: Withdraw #summaryMessage stamp: 'MG 12/5/2021 17:02:41'!
summaryMessage
	^'Extraccion por ', (self value) asString!
!EmitSummary methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 17:02:56' prior: 50338371!
                compute
	
	(account transactions isEmpty) ifTrue: [
		summary add: 'Balance = 0 * pesos'.
		^summary.
	].
		account transactions do: [: aTransaction | 
		summary add:  (aTransaction summaryMessageTo: self).
	].
	summary add: 'Balance = ', (account balance) asString.
	^summary ! !
!EmitSummary methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 17:03:21'!
                        withdrawMessage! !
!EmitSummary methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 17:03:29'!
                              depositMessage! !
!EmitSummary methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 17:03:42'!
                               transferDepositMessage! !
!EmitSummary methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 17:03:48'!
                       transferWithdrawMessage! !
!EmitSummary methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 17:04:34'!
                      transferWithdrawMessage: anAccountTransactionValue! !
!EmitSummary methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 17:04:47' prior: 50338473!
           transferWithdrawMessage: anAccountTransactionValue! !

!methodRemoval: EmitSummary #transferWithdrawMessage stamp: 'MG 12/5/2021 17:04:55'!
transferWithdrawMessage!
!EmitSummary methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 17:05:00'!
            transferDepositMessage: anAccountTransactionValue! !

!methodRemoval: EmitSummary #transferDepositMessage stamp: 'MG 12/5/2021 17:05:02'!
transferDepositMessage!
!EmitSummary methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 17:05:05'!
               depositMessage: anAccountTransactionValue! !

!methodRemoval: EmitSummary #depositMessage stamp: 'MG 12/5/2021 17:05:07'!
depositMessage!
!EmitSummary methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 17:05:11'!
       withdrawMessage: anAccountTransactionValue! !

!methodRemoval: EmitSummary #withdrawMessage stamp: 'MG 12/5/2021 17:05:33'!
withdrawMessage!
!EmitSummary methodsFor: 'transactions message' stamp: 'MG 12/5/2021 17:06:37' prior: 50338501!
                   withdrawMessage: anAccountTransactionValue
	^'Extraccion por ', anAccountTransactionValue asString.! !
!Withdraw methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 17:06:52' prior: 50338435 overrides: 50338383!
         summaryMessageTo: EmitSummary
	^EmitSummary withdrawMessage: (self value).! !
!TransferWithdrawLeg methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 17:08:17' prior: 50338424 overrides: 50338402!
                       summaryMessageTo: EmitSummary
	^EmitSummary transferWithdrawMessage: (self value).! !
!EmitSummary methodsFor: 'transactions message' stamp: 'MG 12/5/2021 17:08:44' prior: 50338478!
          transferWithdrawMessage: anAccountTransactionValue
	^'Salida por transferencia de ', anAccountTransactionValue asString.! !
!EmitSummary methodsFor: 'transactions message' stamp: 'MG 12/5/2021 17:09:00' prior: 50338486!
    transferDepositMessage: anAccountTransactionValue
	^'Entrada por transferencia de ', anAccountTransactionValue asString.! !
!TransferDepositLeg methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 17:09:14' prior: 50338412 overrides: 50338402!
          summaryMessageTo: EmitSummary
	^EmitSummary transferDepositMessage: (self value).! !
!EmitSummary methodsFor: 'transactions message' stamp: 'MG 12/5/2021 17:10:10' prior: 50338494!
           depositMessage: anAccountTransactionValue
	^'Deposito por ', anAccountTransactionValue asString.! !
!Deposit methodsFor: 'summary emition' stamp: 'MG 12/5/2021 17:10:22' prior: 50338392 overrides: 50338383!
                 summaryMessageTo: EmitSummary
	^EmitSummary depositMessage: (self value).! !

!testRun: #SummaryTest #test01UnaCuentaVaciaTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 17:10:26'!
PASSED!

!testRun: #SummaryTest #test02UnaCuentaConUnDepositoDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 17:10:26'!
PASSED!

!testRun: #SummaryTest #test03UnaCuentaConUnaExtraccionDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 17:10:26'!
PASSED!

!testRun: #SummaryTest #test04LaCuentaOrigenDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 17:10:26'!
PASSED!

!testRun: #SummaryTest #test05LaCuentaDestinoDeUnaTransfereciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 17:10:26'!
PASSED!

!testRun: #SummaryTest #test06UnPortfolioSinCuentasTieneUnSumarioCorrecto stamp: 'MG 12/5/2021 17:10:26'!
PASSED!

!testRun: #SummaryTest #test07UnPortfolioConUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 17:10:26'!
PASSED!

!testRun: #SummaryTest #test08UnPortfolioConMasDeUnaCuentaDevuelveUnSumarioCorrecto stamp: 'MG 12/5/2021 17:10:26'!
PASSED!

!testRun: #SummaryTest #test09UnPortfolioConUnaCuentaVaciaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 17:10:26'!
PASSED!

!testRun: #SummaryTest #test10UnPortfolioConUnPortfolioConUnaCuentaDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 17:10:26'!
PASSED!

!testRun: #SummaryTest #test11UnPortfolioConUnPortfolioVacioDevuelveElSumarioCorrecto stamp: 'MG 12/5/2021 17:10:26'!
PASSED!
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/5/2021 17:12:37' prior: 50338333 overrides: 50338328!
                         transferNet
	
	self transactions isEmpty  ifTrue:[
		^'Balance = 0 * pesos'.
	].
	
	^'Balance = ', (self balance) asString.
	
! !

!testRun: #TransferNetTest #test01 stamp: 'MG 12/5/2021 17:12:44'!
PASSED!

!testRun: #TransferNetTest #test02 stamp: 'MG 12/5/2021 17:12:44'!
PASSED!
!TransferNetTest methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 17:13:44' prior: 50338353!
   test02

	| destinationAccount originAccount |
	
	originAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	
	Transfer amount:  20 * peso from: originAccount to: destinationAccount.
	Deposit register: 50*peso  on: originAccount.
	self assert: originAccount transferNet equals: 'Balance = -20 * pesos'.! !
!TransferNetTest methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 17:13:49'!
  test03

	| destinationAccount originAccount |
	
	originAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	
	Transfer amount:  20 * peso from: originAccount to: destinationAccount.
	Deposit register: 50*peso  on: originAccount.
	self assert: originAccount transferNet equals: 'Balance = -20 * pesos'.! !
!TransferNetTest methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 16:53:56' prior: 50338618!
                  test02

	| destinationAccount originAccount |
	
	originAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	
	Transfer amount:  20 * peso from: originAccount to: destinationAccount.
	self assert: originAccount transferNet equals: 'Balance = -20 * pesos'.! !

!testRun: #TransferNetTest #test02 stamp: 'MG 12/5/2021 17:14:06'!
PASSED!

!testRun: #TransferNetTest #test01 stamp: 'MG 12/5/2021 17:14:06'!
PASSED!

!testRun: #TransferNetTest #test02 stamp: 'MG 12/5/2021 17:14:06'!
PASSED!

!testRun: #TransferNetTest #test03 stamp: 'MG 12/5/2021 17:14:06'!
FAILURE!

!testRun: #TransferNetTest #test03 stamp: 'MG 12/5/2021 17:14:06'!
FAILURE!
!TransferNetTest methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 17:14:43' prior: 50338631!
   test03

	| destinationAccount originAccount |
	
	originAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	
	Transfer amount:  20 * peso from: originAccount to: destinationAccount.
	Deposit register: 50*peso  on: originAccount.
	self assert: 'Balance = -20 * pesos' equals: originAccount transferNet .! !

!testRun: #TransferNetTest #test03 stamp: 'MG 12/5/2021 17:14:44'!
FAILURE!
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/5/2021 17:15:12' prior: 50338606 overrides: 50338328!
                     transferNet
	
	self transactions isEmpty  ifTrue:[
		^'Balance = 0 * pesos'.
	].
	
	^'Balance = ', (self transferBalance) asString.
	
! !
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/5/2021 17:15:45'!
        transferBalance

	^transactions 
		inject: 0 * peso
		into: [ :currentBalance :transaction | transaction affectBalance: currentBalance ]! !
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/5/2021 17:17:27' prior: 50338693!
                      transferBalance

	^transactions 
		inject: 0 * peso
		into: [ :currentBalance :transaction | 
			(transaction isKindOf: TransferLeg) ifTrue:[
				transaction affectBalance: currentBalance 
			].
		]! !

!testRun: #TransferNetTest #test03 stamp: 'MG 12/5/2021 17:17:31'!
FAILURE!

!testRun: #TransferNetTest #test03 stamp: 'MG 12/5/2021 17:17:31'!
FAILURE!
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/5/2021 17:18:29' prior: 50338701!
                              transferBalance

	^transactions 
		inject: 0 * peso
		into: [ :currentBalance :transaction | 
			(transaction isKindOf: TransferWithdrawLeg ) ifTrue:[
				transaction affectBalance: currentBalance 
			].
		]! !

!testRun: #TransferNetTest #test03 stamp: 'MG 12/5/2021 17:18:32'!
FAILURE!

!testRun: #TransferNetTest #test03 stamp: 'MG 12/5/2021 17:18:32'!
FAILURE!

!testRun: #TransferNetTest #test01 stamp: 'MG 12/5/2021 17:18:37'!
PASSED!

!testRun: #TransferNetTest #test02 stamp: 'MG 12/5/2021 17:18:37'!
PASSED!

!testRun: #TransferNetTest #test03 stamp: 'MG 12/5/2021 17:18:37'!
FAILURE!

!testRun: #TransferNetTest #test03 stamp: 'MG 12/5/2021 17:18:37'!
FAILURE!
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/5/2021 17:22:27' prior: 50338716!
   transferBalance

	| balance |
	balance := 0 * peso.
	transactions do: [ :aTransaction | 
		(aTransaction isKindOf: TransferWithdrawLeg ) ifTrue:[
			balance := aTransaction affectBalance: balance ].
		].
	^balance.
	! !

!testRun: #TransferNetTest #test03 stamp: 'MG 12/5/2021 17:22:31'!
PASSED!
!TransferNetTest methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 17:23:34'!
     test04

	| destinationAccount originAccount |
	
	originAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	
	Transfer amount:  20 * peso from: originAccount to: destinationAccount.
	self assert: 'Balance = 20 * pesos' equals: destinationAccount transferNet .! !

!testRun: #TransferNetTest #test04 stamp: 'MG 12/5/2021 17:23:38'!
FAILURE!

!testRun: #TransferNetTest #test04 stamp: 'MG 12/5/2021 17:23:38'!
FAILURE!
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/5/2021 17:25:03' prior: 50338740!
       transferBalance

	| balance |
	balance := 0 * peso.
	transactions do: [ :aTransaction | 
		((aTransaction isKindOf: TransferWithdrawLeg)or:[ aTransaction isKindOf: TransferDepositLeg ]) ifTrue:[
			balance := aTransaction affectBalance: balance ].
		].
	^balance.
	! !

!testRun: #TransferNetTest #test04 stamp: 'MG 12/5/2021 17:25:13'!
PASSED!
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/5/2021 17:26:50' prior: 50338769!
         transferBalance

	| balance |
	balance := 0 * peso.
	transactions do: [ :aTransaction | 
		(aTransaction isKindOf: TransferWithdrawLeg ) ifTrue:[
			balance := aTransaction affectBalance: balance ].
		(aTransaction isKindOf: TransferDepositLeg ) ifTrue:[
			balance := aTransaction affectBalance: balance ].
	].
	^balance.
	! !

!testRun: #TransferNetTest #test04 stamp: 'MG 12/5/2021 17:26:52'!
PASSED!
!ReceptiveAccount methodsFor: 'main protocol' stamp: 'MG 12/5/2021 17:28:07' prior: 50338783!
              transferBalance

	| balance |
	balance := 0 * peso.
	transactions do: [ :aTransaction | 
		balance := aTransaction affectTransferBalance: balance 
	].
	^balance.
	! !
!AccountTransaction methodsFor: 'nil' stamp: 'MG 12/5/2021 17:29:12'!
                   affectTransferBalance: aBalance
	self subclassResponsibility.! !
!TransferDepositLeg methodsFor: 'nil' stamp: 'MG 12/5/2021 17:29:53' overrides: 50338807!
     affectTransferBalance: aBalance
	^self affectBalance: aBalance! !
!TransferWithdrawLeg methodsFor: 'nil' stamp: 'MG 12/5/2021 17:30:00' overrides: 50338807!
   affectTransferBalance: aBalance
	^self affectBalance: aBalance! !

!testRun: #TransferNetTest #test04 stamp: 'MG 12/5/2021 17:30:12'!
PASSED!

!testRun: #TransferNetTest #test04 stamp: 'MG 12/5/2021 17:30:17'!
PASSED!

!testRun: #TransferNetTest #test03 stamp: 'MG 12/5/2021 17:31:21'!
ERROR!

!testRun: #TransferNetTest #test03 stamp: 'MG 12/5/2021 17:31:21'!
ERROR!
!Deposit methodsFor: 'nil' stamp: 'MG 12/5/2021 17:32:27' overrides: 50338807!
 affectTransferBalance: aBalance
	^0! !
!Withdraw methodsFor: 'nil' stamp: 'MG 12/5/2021 17:32:36' overrides: 50338807!
         affectTransferBalance: aBalance
	^0! !

!testRun: #TransferNetTest #test03 stamp: 'MG 12/5/2021 17:32:41'!
FAILURE!

!testRun: #TransferNetTest #test03 stamp: 'MG 12/5/2021 17:32:41'!
FAILURE!

!testRun: #TransferNetTest #test04 stamp: 'MG 12/5/2021 17:32:54'!
PASSED!

!testRun: #TransferNetTest #test03 stamp: 'MG 12/5/2021 17:32:57'!
FAILURE!

!testRun: #TransferNetTest #test03 stamp: 'MG 12/5/2021 17:32:57'!
FAILURE!
!Withdraw methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 17:33:13' prior: 50338835 overrides: 50338807!
         affectTransferBalance: aBalance
	^0 * peso! !
!Deposit methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 17:33:25' prior: 50338831 overrides: 50338807!
   affectTransferBalance: aBalance
	^0 * peso! !

!testRun: #TransferNetTest #test01 stamp: 'MG 12/5/2021 17:33:29'!
PASSED!

!testRun: #TransferNetTest #test02 stamp: 'MG 12/5/2021 17:33:29'!
PASSED!

!testRun: #TransferNetTest #test03 stamp: 'MG 12/5/2021 17:33:29'!
FAILURE!

!testRun: #TransferNetTest #test04 stamp: 'MG 12/5/2021 17:33:29'!
PASSED!

!testRun: #TransferNetTest #test03 stamp: 'MG 12/5/2021 17:33:29'!
FAILURE!
!Deposit methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 17:34:36' prior: 50338857 overrides: 50338807!
     affectTransferBalance: aBalance
	^aBalance.! !
!Withdraw methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 17:34:42' prior: 50338852 overrides: 50338807!
 affectTransferBalance: aBalance
	^aBalance! !

!testRun: #TransferNetTest #test01 stamp: 'MG 12/5/2021 17:34:46'!
PASSED!

!testRun: #TransferNetTest #test02 stamp: 'MG 12/5/2021 17:34:46'!
PASSED!

!testRun: #TransferNetTest #test03 stamp: 'MG 12/5/2021 17:34:46'!
PASSED!

!testRun: #TransferNetTest #test04 stamp: 'MG 12/5/2021 17:34:46'!
PASSED!
!TransferNetTest methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 17:35:55' prior: 50338752!
                               test04

	| destinationAccount originAccount |
	
	originAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	
	Transfer amount:  20 * peso from: originAccount to: destinationAccount.
	Transfer amount:  30 * peso from: destinationAccount to: originAccount.
	self assert: 'Balance = 10 * pesos' equals: destinationAccount transferNet .! !

!testRun: #TransferNetTest #test04 stamp: 'MG 12/5/2021 17:35:57'!
FAILURE!
!TransferNetTest methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 17:36:07'!
                      test05

	| destinationAccount originAccount |
	
	originAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	
	Transfer amount:  20 * peso from: originAccount to: destinationAccount.
	Transfer amount:  30 * peso from: destinationAccount to: originAccount.
	self assert: 'Balance = 10 * pesos' equals: destinationAccount transferNet .! !
!TransferNetTest methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 17:23:34' prior: 50338894!
                   test04

	| destinationAccount originAccount |
	
	originAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	
	Transfer amount:  20 * peso from: originAccount to: destinationAccount.
	self assert: 'Balance = 20 * pesos' equals: destinationAccount transferNet .! !

!testRun: #TransferNetTest #test04 stamp: 'MG 12/5/2021 17:36:19'!
PASSED!

!testRun: #TransferNetTest #test05 stamp: 'MG 12/5/2021 17:36:21'!
FAILURE!

!testRun: #TransferNetTest #test05 stamp: 'MG 12/5/2021 17:36:21'!
FAILURE!
!TransferNetTest methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 17:36:36' prior: 50338911!
                      test05

	| destinationAccount originAccount |
	
	originAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	
	Transfer amount:  20 * peso from: originAccount to: destinationAccount.
	Transfer amount:  30 * peso from: destinationAccount to: originAccount.
	self assert: 'Balance = 10 * pesos' equals: originAccount transferNet .! !
!TransferNetTest methodsFor: 'as yet unclassified' stamp: 'MG 12/5/2021 17:37:03' prior: 50338946!
                        test05

	| firstAccount secondAccount |
	
	firstAccount := ReceptiveAccount new.
	secondAccount := ReceptiveAccount new.
	
	Transfer amount:  20 * peso from: firstAccount to: secondAccount.
	Transfer amount:  30 * peso from: secondAccount to: firstAccount.
	self assert: 'Balance = 10 * pesos' equals: firstAccount transferNet .! !

!testRun: #TransferNetTest #test05 stamp: 'MG 12/5/2021 17:37:10'!
PASSED!

!testRun: #TransferNetTest #test01 stamp: 'MG 12/5/2021 17:37:10'!
PASSED!

!testRun: #TransferNetTest #test02 stamp: 'MG 12/5/2021 17:37:10'!
PASSED!

!testRun: #TransferNetTest #test03 stamp: 'MG 12/5/2021 17:37:10'!
PASSED!

!testRun: #TransferNetTest #test04 stamp: 'MG 12/5/2021 17:37:10'!
PASSED!

!testRun: #TransferNetTest #test05 stamp: 'MG 12/5/2021 17:37:10'!
PASSED!

----QUIT----(5 December 2021 17:37:34) Ejercicio8.image priorSource: 135!